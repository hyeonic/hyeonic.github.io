<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>테스트 격리 | 배움을 기록</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="alternate" type="application/rss+xml" href="https://hyeonic.github.io/rss.xml" title="배움을 기록 RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://hyeonic.github.io/feed.atom" title="배움을 기록 Atom Feed">
    <link rel="alternate" type="application/json" href="https://hyeonic.github.io/feed.json" title="배움을 기록 JSON Feed">
    <meta name="description" content="배움을 기록하기 위한 블로그입니다.">
    
    <link rel="preload" href="/assets/css/0.styles.99aea42e.css" as="style"><link rel="preload" href="/assets/js/app.bebab83a.js" as="script"><link rel="preload" href="/assets/js/29.dea8b5c1.js" as="script"><link rel="preload" href="/assets/js/2.310b603e.js" as="script"><link rel="preload" href="/assets/js/28.44d27455.js" as="script"><link rel="preload" href="/assets/js/35.ee6b29fa.js" as="script"><link rel="prefetch" href="/assets/js/10.67e17163.js"><link rel="prefetch" href="/assets/js/100.c00e40ce.js"><link rel="prefetch" href="/assets/js/101.60511d14.js"><link rel="prefetch" href="/assets/js/102.23645790.js"><link rel="prefetch" href="/assets/js/103.012700e6.js"><link rel="prefetch" href="/assets/js/104.071203c1.js"><link rel="prefetch" href="/assets/js/105.015fde52.js"><link rel="prefetch" href="/assets/js/106.cc7960aa.js"><link rel="prefetch" href="/assets/js/107.55886281.js"><link rel="prefetch" href="/assets/js/108.4cec2c7c.js"><link rel="prefetch" href="/assets/js/109.c6b45615.js"><link rel="prefetch" href="/assets/js/11.26dda1eb.js"><link rel="prefetch" href="/assets/js/110.d8cad6ca.js"><link rel="prefetch" href="/assets/js/111.9cb4698b.js"><link rel="prefetch" href="/assets/js/112.553928e8.js"><link rel="prefetch" href="/assets/js/113.2f037200.js"><link rel="prefetch" href="/assets/js/114.b5392937.js"><link rel="prefetch" href="/assets/js/115.697bf967.js"><link rel="prefetch" href="/assets/js/116.6b60b03e.js"><link rel="prefetch" href="/assets/js/117.7a170acd.js"><link rel="prefetch" href="/assets/js/118.86c43ab0.js"><link rel="prefetch" href="/assets/js/119.5d15fbbb.js"><link rel="prefetch" href="/assets/js/12.f8ccec4e.js"><link rel="prefetch" href="/assets/js/120.8da52a79.js"><link rel="prefetch" href="/assets/js/121.ca0dbf18.js"><link rel="prefetch" href="/assets/js/122.4ab841ef.js"><link rel="prefetch" href="/assets/js/123.ea88567a.js"><link rel="prefetch" href="/assets/js/124.d6d0f9e6.js"><link rel="prefetch" href="/assets/js/125.644a5fcc.js"><link rel="prefetch" href="/assets/js/126.49277078.js"><link rel="prefetch" href="/assets/js/127.ba9b56b1.js"><link rel="prefetch" href="/assets/js/128.7a501332.js"><link rel="prefetch" href="/assets/js/129.9578aaa9.js"><link rel="prefetch" href="/assets/js/13.675eb1b2.js"><link rel="prefetch" href="/assets/js/130.ba74a14f.js"><link rel="prefetch" href="/assets/js/131.47fb91b9.js"><link rel="prefetch" href="/assets/js/132.3f499ec7.js"><link rel="prefetch" href="/assets/js/133.1b4f200b.js"><link rel="prefetch" href="/assets/js/134.6db259a0.js"><link rel="prefetch" href="/assets/js/135.52f1f180.js"><link rel="prefetch" href="/assets/js/136.675033a7.js"><link rel="prefetch" href="/assets/js/137.ef21534e.js"><link rel="prefetch" href="/assets/js/138.8dd07ea4.js"><link rel="prefetch" href="/assets/js/139.b5035cf3.js"><link rel="prefetch" href="/assets/js/14.601c3e23.js"><link rel="prefetch" href="/assets/js/140.bfee15e9.js"><link rel="prefetch" href="/assets/js/141.7d3c2030.js"><link rel="prefetch" href="/assets/js/142.cdbb1046.js"><link rel="prefetch" href="/assets/js/143.b3d7b0cc.js"><link rel="prefetch" href="/assets/js/144.c19d10c1.js"><link rel="prefetch" href="/assets/js/145.0df417d9.js"><link rel="prefetch" href="/assets/js/146.8286ef2f.js"><link rel="prefetch" href="/assets/js/147.0558c072.js"><link rel="prefetch" href="/assets/js/148.9a169db0.js"><link rel="prefetch" href="/assets/js/149.b011e216.js"><link rel="prefetch" href="/assets/js/15.0e026576.js"><link rel="prefetch" href="/assets/js/150.c87a36e2.js"><link rel="prefetch" href="/assets/js/151.f66d3f48.js"><link rel="prefetch" href="/assets/js/152.8ac9089a.js"><link rel="prefetch" href="/assets/js/153.812099b0.js"><link rel="prefetch" href="/assets/js/154.099c3c7b.js"><link rel="prefetch" href="/assets/js/155.f36ea815.js"><link rel="prefetch" href="/assets/js/156.f4f4ee20.js"><link rel="prefetch" href="/assets/js/157.a291ded2.js"><link rel="prefetch" href="/assets/js/158.879bb104.js"><link rel="prefetch" href="/assets/js/159.b8f807bb.js"><link rel="prefetch" href="/assets/js/16.08bc088d.js"><link rel="prefetch" href="/assets/js/160.d58beca8.js"><link rel="prefetch" href="/assets/js/161.e88840a3.js"><link rel="prefetch" href="/assets/js/162.0c271eda.js"><link rel="prefetch" href="/assets/js/163.ad6d6494.js"><link rel="prefetch" href="/assets/js/164.23c4bfc1.js"><link rel="prefetch" href="/assets/js/165.16ce3f91.js"><link rel="prefetch" href="/assets/js/166.f2dcdf29.js"><link rel="prefetch" href="/assets/js/167.388b5e26.js"><link rel="prefetch" href="/assets/js/168.0e47646f.js"><link rel="prefetch" href="/assets/js/169.50f9b73a.js"><link rel="prefetch" href="/assets/js/17.b863ed98.js"><link rel="prefetch" href="/assets/js/170.c6dd6e4e.js"><link rel="prefetch" href="/assets/js/171.baf426d4.js"><link rel="prefetch" href="/assets/js/172.b4184f82.js"><link rel="prefetch" href="/assets/js/173.5c113452.js"><link rel="prefetch" href="/assets/js/174.ebecda0e.js"><link rel="prefetch" href="/assets/js/175.0b03380a.js"><link rel="prefetch" href="/assets/js/176.6b436253.js"><link rel="prefetch" href="/assets/js/177.98454122.js"><link rel="prefetch" href="/assets/js/178.f88db8b1.js"><link rel="prefetch" href="/assets/js/179.d27a7928.js"><link rel="prefetch" href="/assets/js/18.73ff8b72.js"><link rel="prefetch" href="/assets/js/180.39e0d834.js"><link rel="prefetch" href="/assets/js/181.64305f60.js"><link rel="prefetch" href="/assets/js/182.b6a00a72.js"><link rel="prefetch" href="/assets/js/183.c850114e.js"><link rel="prefetch" href="/assets/js/184.0646358a.js"><link rel="prefetch" href="/assets/js/185.210c31f1.js"><link rel="prefetch" href="/assets/js/186.7aa7e5cf.js"><link rel="prefetch" href="/assets/js/187.0744cf18.js"><link rel="prefetch" href="/assets/js/188.6aabc0bd.js"><link rel="prefetch" href="/assets/js/189.dd3abfcb.js"><link rel="prefetch" href="/assets/js/19.0f762cfb.js"><link rel="prefetch" href="/assets/js/190.97908678.js"><link rel="prefetch" href="/assets/js/191.0f71a14b.js"><link rel="prefetch" href="/assets/js/192.3547ccd4.js"><link rel="prefetch" href="/assets/js/193.257e7d77.js"><link rel="prefetch" href="/assets/js/194.752d5397.js"><link rel="prefetch" href="/assets/js/195.1a3da6e2.js"><link rel="prefetch" href="/assets/js/196.c95355f6.js"><link rel="prefetch" href="/assets/js/197.cb761bad.js"><link rel="prefetch" href="/assets/js/198.442adc4e.js"><link rel="prefetch" href="/assets/js/199.c10edefe.js"><link rel="prefetch" href="/assets/js/20.d41f089f.js"><link rel="prefetch" href="/assets/js/200.b4d9631f.js"><link rel="prefetch" href="/assets/js/201.593cbccb.js"><link rel="prefetch" href="/assets/js/202.e4888bd8.js"><link rel="prefetch" href="/assets/js/203.86593922.js"><link rel="prefetch" href="/assets/js/204.b7c1ba4d.js"><link rel="prefetch" href="/assets/js/205.1d9b23aa.js"><link rel="prefetch" href="/assets/js/206.4535cf01.js"><link rel="prefetch" href="/assets/js/207.867a5a77.js"><link rel="prefetch" href="/assets/js/208.3d30a2ce.js"><link rel="prefetch" href="/assets/js/209.0270c483.js"><link rel="prefetch" href="/assets/js/21.a505274d.js"><link rel="prefetch" href="/assets/js/210.cb9d5f40.js"><link rel="prefetch" href="/assets/js/211.50e3fb2a.js"><link rel="prefetch" href="/assets/js/212.b1fbf9ad.js"><link rel="prefetch" href="/assets/js/213.22045688.js"><link rel="prefetch" href="/assets/js/214.feb6c7ca.js"><link rel="prefetch" href="/assets/js/215.a644d1a8.js"><link rel="prefetch" href="/assets/js/216.e60bfc4b.js"><link rel="prefetch" href="/assets/js/217.3ed26cc5.js"><link rel="prefetch" href="/assets/js/218.0b70f333.js"><link rel="prefetch" href="/assets/js/219.7eaad619.js"><link rel="prefetch" href="/assets/js/22.cc9208d8.js"><link rel="prefetch" href="/assets/js/220.742670b3.js"><link rel="prefetch" href="/assets/js/221.a7dfe9ef.js"><link rel="prefetch" href="/assets/js/222.c0487ad2.js"><link rel="prefetch" href="/assets/js/223.a515adcf.js"><link rel="prefetch" href="/assets/js/224.7110f2c8.js"><link rel="prefetch" href="/assets/js/225.851037e1.js"><link rel="prefetch" href="/assets/js/226.8b9e4f03.js"><link rel="prefetch" href="/assets/js/227.a811050d.js"><link rel="prefetch" href="/assets/js/228.6f41c297.js"><link rel="prefetch" href="/assets/js/229.a315889d.js"><link rel="prefetch" href="/assets/js/23.4409a2c1.js"><link rel="prefetch" href="/assets/js/230.b11842a5.js"><link rel="prefetch" href="/assets/js/231.1166a5ca.js"><link rel="prefetch" href="/assets/js/232.a5116983.js"><link rel="prefetch" href="/assets/js/233.1dbf9819.js"><link rel="prefetch" href="/assets/js/234.3b66e66e.js"><link rel="prefetch" href="/assets/js/235.0feea1ef.js"><link rel="prefetch" href="/assets/js/236.b3ce678a.js"><link rel="prefetch" href="/assets/js/237.90fe8937.js"><link rel="prefetch" href="/assets/js/238.1750ee1f.js"><link rel="prefetch" href="/assets/js/239.59d86858.js"><link rel="prefetch" href="/assets/js/24.e6bf5d09.js"><link rel="prefetch" href="/assets/js/240.2a91057e.js"><link rel="prefetch" href="/assets/js/241.4d61ddbb.js"><link rel="prefetch" href="/assets/js/242.98f9c645.js"><link rel="prefetch" href="/assets/js/243.f93e7a9c.js"><link rel="prefetch" href="/assets/js/244.c439e511.js"><link rel="prefetch" href="/assets/js/245.24491398.js"><link rel="prefetch" href="/assets/js/246.a1cf3e8a.js"><link rel="prefetch" href="/assets/js/247.44872e83.js"><link rel="prefetch" href="/assets/js/248.de5ff7a5.js"><link rel="prefetch" href="/assets/js/249.054087a3.js"><link rel="prefetch" href="/assets/js/25.a9036cee.js"><link rel="prefetch" href="/assets/js/250.39c32d51.js"><link rel="prefetch" href="/assets/js/251.a9dde4e5.js"><link rel="prefetch" href="/assets/js/252.18d0f92b.js"><link rel="prefetch" href="/assets/js/253.c9ff7474.js"><link rel="prefetch" href="/assets/js/254.46bb2028.js"><link rel="prefetch" href="/assets/js/255.dd0b5d64.js"><link rel="prefetch" href="/assets/js/256.04f863e5.js"><link rel="prefetch" href="/assets/js/257.16ca8bf1.js"><link rel="prefetch" href="/assets/js/258.7f670679.js"><link rel="prefetch" href="/assets/js/259.fd301d9e.js"><link rel="prefetch" href="/assets/js/26.91842660.js"><link rel="prefetch" href="/assets/js/260.c9a3cb7a.js"><link rel="prefetch" href="/assets/js/261.a85397ed.js"><link rel="prefetch" href="/assets/js/262.babc1143.js"><link rel="prefetch" href="/assets/js/263.993ac176.js"><link rel="prefetch" href="/assets/js/264.fae9fcc1.js"><link rel="prefetch" href="/assets/js/265.7ba2936e.js"><link rel="prefetch" href="/assets/js/266.88bd11fd.js"><link rel="prefetch" href="/assets/js/267.98f4491f.js"><link rel="prefetch" href="/assets/js/268.9075d875.js"><link rel="prefetch" href="/assets/js/269.09fc4473.js"><link rel="prefetch" href="/assets/js/27.d1482ad8.js"><link rel="prefetch" href="/assets/js/270.d8edcbd1.js"><link rel="prefetch" href="/assets/js/271.825a8e8d.js"><link rel="prefetch" href="/assets/js/272.6dd27076.js"><link rel="prefetch" href="/assets/js/273.e1069a5e.js"><link rel="prefetch" href="/assets/js/274.b3aaa369.js"><link rel="prefetch" href="/assets/js/275.1b3c859e.js"><link rel="prefetch" href="/assets/js/276.90d9fdfd.js"><link rel="prefetch" href="/assets/js/277.a6aab33f.js"><link rel="prefetch" href="/assets/js/278.29f5caeb.js"><link rel="prefetch" href="/assets/js/279.3fda1474.js"><link rel="prefetch" href="/assets/js/280.9bfaf35b.js"><link rel="prefetch" href="/assets/js/281.447155ad.js"><link rel="prefetch" href="/assets/js/282.13ca54ae.js"><link rel="prefetch" href="/assets/js/283.91ecbeab.js"><link rel="prefetch" href="/assets/js/284.2601b2e8.js"><link rel="prefetch" href="/assets/js/285.04a10786.js"><link rel="prefetch" href="/assets/js/286.e650e1eb.js"><link rel="prefetch" href="/assets/js/3.520847a4.js"><link rel="prefetch" href="/assets/js/30.f00cf9e9.js"><link rel="prefetch" href="/assets/js/31.1b26dbe4.js"><link rel="prefetch" href="/assets/js/32.77b5db48.js"><link rel="prefetch" href="/assets/js/33.2738bbe3.js"><link rel="prefetch" href="/assets/js/34.c2ac9975.js"><link rel="prefetch" href="/assets/js/36.ad7bedec.js"><link rel="prefetch" href="/assets/js/37.8e865dfa.js"><link rel="prefetch" href="/assets/js/38.b73142fe.js"><link rel="prefetch" href="/assets/js/39.de289cf9.js"><link rel="prefetch" href="/assets/js/4.4930622e.js"><link rel="prefetch" href="/assets/js/40.3a4ce626.js"><link rel="prefetch" href="/assets/js/41.cd2466f8.js"><link rel="prefetch" href="/assets/js/42.0794995e.js"><link rel="prefetch" href="/assets/js/43.d46484ed.js"><link rel="prefetch" href="/assets/js/44.9eb92703.js"><link rel="prefetch" href="/assets/js/45.03c49247.js"><link rel="prefetch" href="/assets/js/46.7687d8fc.js"><link rel="prefetch" href="/assets/js/47.0845747a.js"><link rel="prefetch" href="/assets/js/48.6cb7df69.js"><link rel="prefetch" href="/assets/js/49.22e20bcf.js"><link rel="prefetch" href="/assets/js/5.135ba8e3.js"><link rel="prefetch" href="/assets/js/50.8e1fa1af.js"><link rel="prefetch" href="/assets/js/51.f5ef84d2.js"><link rel="prefetch" href="/assets/js/52.6eb43a90.js"><link rel="prefetch" href="/assets/js/53.458b37e1.js"><link rel="prefetch" href="/assets/js/54.db14424c.js"><link rel="prefetch" href="/assets/js/55.28e9510f.js"><link rel="prefetch" href="/assets/js/56.fe9ab551.js"><link rel="prefetch" href="/assets/js/57.3ba0bb98.js"><link rel="prefetch" href="/assets/js/58.fbb1fc83.js"><link rel="prefetch" href="/assets/js/59.5800f06b.js"><link rel="prefetch" href="/assets/js/6.f862661f.js"><link rel="prefetch" href="/assets/js/60.66f63d18.js"><link rel="prefetch" href="/assets/js/61.3720b486.js"><link rel="prefetch" href="/assets/js/62.24322458.js"><link rel="prefetch" href="/assets/js/63.a7349f17.js"><link rel="prefetch" href="/assets/js/64.cdcb04d6.js"><link rel="prefetch" href="/assets/js/65.113ee420.js"><link rel="prefetch" href="/assets/js/66.7a44862c.js"><link rel="prefetch" href="/assets/js/67.8c989652.js"><link rel="prefetch" href="/assets/js/68.a9898139.js"><link rel="prefetch" href="/assets/js/69.62526e54.js"><link rel="prefetch" href="/assets/js/7.ddc319a6.js"><link rel="prefetch" href="/assets/js/70.f301bb2a.js"><link rel="prefetch" href="/assets/js/71.4b68e7a8.js"><link rel="prefetch" href="/assets/js/72.be9404d9.js"><link rel="prefetch" href="/assets/js/73.cbf9366a.js"><link rel="prefetch" href="/assets/js/74.cdd9fdfd.js"><link rel="prefetch" href="/assets/js/75.455c554b.js"><link rel="prefetch" href="/assets/js/76.b0ea7067.js"><link rel="prefetch" href="/assets/js/77.50272e98.js"><link rel="prefetch" href="/assets/js/78.acc24f13.js"><link rel="prefetch" href="/assets/js/79.da87d76b.js"><link rel="prefetch" href="/assets/js/8.a129151e.js"><link rel="prefetch" href="/assets/js/80.c0df8999.js"><link rel="prefetch" href="/assets/js/81.43aa552f.js"><link rel="prefetch" href="/assets/js/82.b387188e.js"><link rel="prefetch" href="/assets/js/83.0a72b5c1.js"><link rel="prefetch" href="/assets/js/84.793a20c3.js"><link rel="prefetch" href="/assets/js/85.82f9edc8.js"><link rel="prefetch" href="/assets/js/86.c13f74b3.js"><link rel="prefetch" href="/assets/js/87.f3fd53db.js"><link rel="prefetch" href="/assets/js/88.270f897b.js"><link rel="prefetch" href="/assets/js/89.1de68c78.js"><link rel="prefetch" href="/assets/js/9.94da8df0.js"><link rel="prefetch" href="/assets/js/90.e7c0be0e.js"><link rel="prefetch" href="/assets/js/91.b86b0037.js"><link rel="prefetch" href="/assets/js/92.802ffe37.js"><link rel="prefetch" href="/assets/js/93.d9e5c77e.js"><link rel="prefetch" href="/assets/js/94.8f592bdd.js"><link rel="prefetch" href="/assets/js/95.a4afa189.js"><link rel="prefetch" href="/assets/js/96.f4d6eff3.js"><link rel="prefetch" href="/assets/js/97.5c923d49.js"><link rel="prefetch" href="/assets/js/98.48337bf5.js"><link rel="prefetch" href="/assets/js/99.09ca5be8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.99aea42e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">배움을 기록</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/﹟hash-tag/" class="nav-link">
  tag
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/spring/" class="nav-link">
  spring
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic/hyeonic.github.io/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/woowacourse-teams/2022-dallog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dallog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/OPGG-HACKTHON/MusicWard-Server" target="_blank" rel="noopener noreferrer" class="nav-link external">
  music-ward
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/﹟hash-tag/" class="nav-link">
  tag
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/spring/" class="nav-link">
  spring
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic/hyeonic.github.io/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/woowacourse-teams/2022-dallog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dallog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/OPGG-HACKTHON/MusicWard-Server" target="_blank" rel="noopener noreferrer" class="nav-link external">
  music-ward
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Etc</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Infra</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jpa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operating System</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Problem Solving</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Retrospect</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Study</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Woowacourse</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/woowacourse/" aria-current="page" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Dallog</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/woowacourse/dallog/cyclic-dependency.html" class="sidebar-link">cyclic dependency</a></li><li><a href="/woowacourse/dallog/git-branch-strategy.html" class="sidebar-link">달록팀의 git 브랜치 전략을 소개합니다.</a></li><li><a href="/woowacourse/dallog/google-refresh-token.html" class="sidebar-link">Google은 Refresh Token을 쉽게 내주지 않는다.</a></li><li><a href="/woowacourse/dallog/hikari-cp-1-theory.html" class="sidebar-link">HikariCP와 적절한 풀 사이즈 고민하기 (1) - 이론편</a></li><li><a href="/woowacourse/dallog/hikari-cp-2-actual.html" class="sidebar-link">HikariCP와 적절한 풀 사이즈 고민하기 (2) - 실전편</a></li><li><a href="/woowacourse/dallog/hikari-cp-3-spadework.html" class="sidebar-link">HikariCP와 적절한 풀 사이즈 고민하기 (3) - 삽질편</a></li><li><a href="/woowacourse/dallog/integration-test-slice-test.html" class="sidebar-link">통합 테스트와 슬라이스 테스트</a></li><li><a href="/woowacourse/dallog/json-property-json-naming.html" class="sidebar-link">@JsonProperty, @JsonNaming</a></li><li><a href="/woowacourse/dallog/package-structure.html" class="sidebar-link">달록에 적절한 패키지 구조 고민하기</a></li><li><a href="/woowacourse/dallog/properties-to-object.html" class="sidebar-link">properties 객체로 다루기</a></li><li><a href="/woowacourse/dallog/separated-interface.html" class="sidebar-link">외부와 의존성 분리하기</a></li><li><a href="/woowacourse/dallog/submodule.html" class="sidebar-link">달록 서브모듈 도입기</a></li><li><a href="/woowacourse/dallog/test-isolation.html" aria-current="page" class="active sidebar-link">테스트 격리</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/woowacourse/dallog/test-isolation.html#truncate" class="sidebar-link">TRUNCATE</a></li><li class="sidebar-sub-header"><a href="/woowacourse/dallog/test-isolation.html#테스트-격리-방식-비교" class="sidebar-link">테스트 격리 방식 비교</a></li><li class="sidebar-sub-header"><a href="/woowacourse/dallog/test-isolation.html#정리" class="sidebar-link">정리</a></li><li class="sidebar-sub-header"><a href="/woowacourse/dallog/test-isolation.html#references" class="sidebar-link">References.</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Level 1-Mission</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Level 2-Mission</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Level 4-Mission</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Precourse</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>﹟hash Tag</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><a href="https://dallog.github.io" target="_blank" rel="noopener noreferrer">달록 기술 블로그 방문하기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>이 글은 우테코 달록팀 크루 '<a href="https://github.com/hyeonic" target="_blank" rel="noopener noreferrer">매트<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>'가 작성했습니다.</p></blockquote> <p>테스트는 독립적이어야 하며 공유 자원을 사용하면 안된다. 격리되지 못한 테스트는 <a href="https://dallog.github.io/test-fixture-constant/" target="_blank" rel="noopener noreferrer">테스트에서 Entity 객체를 상수로 두면 안 되는 이유<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 같이 많은 문제를 야기할 수 있다.</p> <p>테스트를 격리하는 방법에는 여러가지가 있다. 우리 <a href="https://github.com/woowacourse-teams/2022-dallog" target="_blank" rel="noopener noreferrer">달록<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에서는 크게 두 가지 방식을 적용해봤고, 각 방식에 대한 장단점을 확인해보려 한다.</p> <h2 id="truncate"><a href="#truncate" class="header-anchor">#</a> TRUNCATE</h2> <p>테스트 격리에 대한 방식에 대해 알아보기 전에 간단한 SQL 쿼리의 특성에 대해 알아보려 한다.</p> <p><code>TRUNCATE</code>는  테이블의 모든 행을 삭제하는 <code>데이터 정의 언어 (Data Definition Language)</code>이다. <code>TRUNCATE</code>는 <code>DELETE</code>와 거의 유사하지만 부분 삭제가 불가능하다. 또한 <code>TRUNCATE</code>는 테이블 구조를 유지하기 때문에 <code>모든 행을 삭제하는데 가장 빠르고 효율적인 방법</code>이 될 수 있다.</p> <p>우리는 이러한 특성을 활용하여 테스트 간의 격리를 위해 활용 하였다. 각각의 테스트 이전에 직접 작성한 SQL 스크립트를 통해 매번 테이블을 초기화 하는 방식으로 말이다.</p> <p>아래는 테스트 격리를 위한 <code>truncate.sql</code>이다.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SET</span> foreign_key_checks <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> subscriptions<span class="token punctuation">;</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> categories<span class="token punctuation">;</span>
<span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> members<span class="token punctuation">;</span>
<span class="token keyword">SET</span> foreign_key_checks <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><code>foreign_key_checks</code>: <code>MySQL</code>에서 외래키 제약 조건을 키고 끄기 위한 설정이다. <code>0</code>으로 설정하면 제약 조건을 해제하고, <code>1</code>로 설정하면 제약 조건을 설정한다.</li> <li><code>TRUNCATE 테이블명</code>: 앞서 언급한 것 처럼 테이블 구조를 유지하고 테이블에 모든 행을 삭제한다.</li></ul> <h3 id="방법-1-sql-truncate-sql"><a href="#방법-1-sql-truncate-sql" class="header-anchor">#</a> 방법 1: @Sql(”truncate.sql”)</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span>METHOD<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@Repeatable</span><span class="token punctuation">(</span><span class="token class-name">SqlGroup</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">Sql</span> <span class="token punctuation">{</span>

	<span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;scripts&quot;</span><span class="token punctuation">)</span>
	<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span>
	<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">scripts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>테스트 클래스</code>나 <code>테스트 메서드</code>에 작성할 수 있는 애노테이션이다. 해당 애노테이션에 SQL 스크립트를 명시하면 메서드 실행 시점에 해당 스크립트가 수행된다.</p> <p>아래와 같이 손쉽게 적용할 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span>RANDOM_PORT<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Sql</span><span class="token punctuation">(</span><span class="token string">&quot;truncate.sql&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">TestConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">AcceptanceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@LocalServerPort</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestAssured</span><span class="token punctuation">.</span>port <span class="token operator">=</span> port<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>하지만 이 방식은 <code>Entity</code>가 추가될 경우 직접 <code>truncate.sql</code> 파일에 접근하여 테이블을 추가해줘야 하는 불편함이 있다.</p> <h3 id="방법-2-entitymanager를-통한-truncate"><a href="#방법-2-entitymanager를-통한-truncate" class="header-anchor">#</a> 방법 2: EntityManager를 통한 TRUNCATE</h3> <p>앞서 언급한 단점을 해결하기 위한 방법이다. <code>EntityManager</code>를 통해 동적으로 현재 등록된 <code>Entity</code>를 조회한 뒤 각각의 <code>Entity</code>의 클래스 정보를 활용하여 테이블 이름을 획득한 뒤 쿼리문을 실행하도록 할 수 있다.</p> <p>하지만 단순히 Entity의 이름을 가져올 경우 아래와 같이 클래스 이름을 가져올 뿐이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@DataJpaTest</span>
<span class="token keyword">class</span> <span class="token class-name">DatabaseCleanerTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">entities</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entityManager<span class="token punctuation">.</span><span class="token function">getMetamodel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">getEntities</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">EntityType</span><span class="token operator">::</span><span class="token function">getName</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-bash extra-class"><pre class="language-bash"><code>Member
Category
Subscription
Schedule
</code></pre></div><p>하지만 우리 <code>달록</code>은 <code>MySQL</code>에 <code>schedule 예약어</code>로 인해 <code>schedules</code>와 같이 복수형으로 표현하기로 통일하였다. 하지만 클래스 이름을 활용하여 다양한 조건을 가진 복수 형태를 만드는 것은 한계가 있었다. 예를 들면 <code>Member</code>는 <code>members</code>, <code>Category</code>는 <code>categories</code>와 같이 표현하고 있다.</p> <p>우리는 이러한 테이블명은 <code>Entity</code> 클래스에 <code>@Table</code> 애노테이션을 통해 명시하기로 약속하였고, 이것을 활용하는 방안을 고민하였다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;categories&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Entity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Category</span> <span class="token keyword">extends</span> <span class="token class-name">BaseEntity</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> MAX_NAME_LENGTH <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@ManyToOne</span><span class="token punctuation">(</span>fetch <span class="token operator">=</span> <span class="token class-name">FetchType</span><span class="token punctuation">.</span>LAZY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JoinColumn</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;members_id&quot;</span><span class="token punctuation">,</span> nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Member</span> member<span class="token punctuation">;</span>
		<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>해답은 바로 Java의 <code>Reflection API</code>를 활용한 방법이다. 아래는 Java의 Reflection을 활용하여 Table 애노테이션에 명시한 name 값을 추출하여 <code>tableNames</code>로 활용한 예시이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseCleaner</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> tableNames<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DatabaseCleaner</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>tableNames <span class="token operator">=</span> entityManager<span class="token punctuation">.</span><span class="token function">getMetamodel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">getEntities</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Type</span><span class="token operator">::</span><span class="token function">getJavaType</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>javaType <span class="token operator">-&gt;</span> javaType<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Table</span><span class="token operator">::</span><span class="token function">name</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entityManager<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SET foreign_key_checks = 0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> tableName <span class="token operator">:</span> tableNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;TRUNCATE TABLE &quot;</span> <span class="token operator">+</span> tableName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        entityManager<span class="token punctuation">.</span><span class="token function">createNativeQuery</span><span class="token punctuation">(</span><span class="token string">&quot;SET foreign_key_checks = 1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>getMetamodel()</code>: persistence unit의 메타 모델에 접근하기 위한 <code>Metamodel</code> 인터페이스를 반환한다.</li> <li><code>getEntities()</code>: metamodel에 Entity Type을 반환한다.</li> <li><code>getJavaType()</code>: Java Type을 반환한다. 반환 타입은 <code>Class&lt;T&gt;</code>이다.</li> <li><code>getAnnotation(Table.class)</code>: <code>@Table</code> 애노테이션을 가져온다.</li> <li><code>Table::name</code>: 해당 애노테이션에 명시한 이름 정보를 가져온다.</li></ul> <p>우리는 이제 작성한 <code>Entity</code>의 모든 테이블명을 가지게 되었다. 이제 앞서 작성한 <code>TRUNCATE</code> 관련 쿼리를 <code>entityManager</code>가 실행할 수 있도록 작성 해준다.</p> <p>자 이제 우리가 만든 <code>DatabaseCleanup</code> 객체를 주입 받아 각각의 메서드 실행 이전에 호출할 수 있도록 개선하자.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span>RANDOM_PORT<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">TestConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">AcceptanceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@LocalServerPort</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DatabaseCleaner</span> databaseCleaner<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestAssured</span><span class="token punctuation">.</span>port <span class="token operator">=</span> port<span class="token punctuation">;</span>
        databaseCleaner<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>@Autowired private DatabaseCleaner databaseCleaner</code>: 앞서 작성한 <code>DatabaseCleaner</code>을 주입 받는다.</li> <li><code>databaseCleaner.execute()</code>: <code>@BeforeEach</code>를 통해 각 테스트 메서드가 실행되기 이전에 DB 테이블의 행을 모두 비워준다.</li></ul> <p>이제 우리는 직접 파일을 수정하지 않아도 <code>Entity</code>의 추가에 유동적으로 대응할 수 있게 되었다.</p> <h2 id="테스트-격리-방식-비교"><a href="#테스트-격리-방식-비교" class="header-anchor">#</a> 테스트 격리 방식 비교</h2> <p>가장 간편하게 테스트를 격리하는 방법은 각각의 분리된 테스트 마다 Spring Context를 새롭게 로드하는 것이다. <code>@DirtiesContext</code>를 활용하면 아래와 같이 적용이 가능하다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@DirtiesContext</span><span class="token punctuation">(</span>classMode <span class="token operator">=</span> <span class="token class-name">ClassMode</span><span class="token punctuation">.</span>BEFORE_EACH_TEST_METHOD<span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span><span class="token punctuation">(</span>webEnvironment <span class="token operator">=</span> <span class="token class-name">SpringBootTest<span class="token punctuation">.</span>WebEnvironment</span><span class="token punctuation">.</span>RANDOM_PORT<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">TestConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">AcceptanceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@LocalServerPort</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">RestAssured</span><span class="token punctuation">.</span>port <span class="token operator">=</span> port<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>@DirtiesContext(classMode = ClassMode.BEFORE_EACH_TEST_METHOD)</code>: 테스트 메서드를 실행하기 전에 context를 새롭게 로드한다.</li></ul> <p>하지만 이 방식은 테스트하는데 매우 오랜 시간이 걸린다. 아래는 <code>@DirtiesContext</code>를 적용한 뒤 달록에 있는 테스트를 실행한 것이다.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>이제 위에서 작성한 <code>DatabaseCleaner</code>를 활용해보자.</p> <p><img src="data:image/png;base64,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" alt=""></p> <p><code>33 sec</code>에서 <code>10 sec</code>의 성능 개선을 확인할 수 있었다.</p> <h2 id="정리"><a href="#정리" class="header-anchor">#</a> 정리</h2> <p><code>@DirtiesContext</code>를 활용한 테스트 격리는 테스트 마다 context를 새롭게 로드하기 때문에 매우 오랜 시간이 걸린다.</p> <p>그렇기 때문에 <code>TRUNCATE</code>를 통해 테스트 격리를 진행하는 것이 더욱 빠른 테스트 피드백을 확인할 수 있다. <code>@Sql</code>을 통해 적용할 경우 간편하게 적용이 가능하다. 하지만 <code>Entity</code>가 추가될 경우 직접 스크립트 파일에 접근하여 수정해야 하는 단점이 있다. 또한 문자열로 작성되기 때문에 최악의 경우 오타로 인하여 테이블을 찾지 못할 수도 있다.</p> <p><code>EntityManager</code>를 통해 <code>TRUNCATE</code>를 적용할 경우 현재 작성된 <code>Entity</code>를 기반으로 명시한 테이블명을 가져온다. 즉 우리가 의도한 테이블명을 그대로 활용할 수 있기 때문에 직접 수정하지 않아도 편리하게 활용할 수 있다.</p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References.</h2> <p><a href="https://ko.wikipedia.org/wiki/TRUNCATE_(SQL)" target="_blank" rel="noopener noreferrer">TRUNCATE (SQL)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/context/jdbc/Sql.html" target="_blank" rel="noopener noreferrer">Annotation Type Sql<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://www.baeldung.com/java-reflection" target="_blank" rel="noopener noreferrer">Guide to Java Reflection<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br> <a href="https://www.martinfowler.com/eaaCatalog/separatedInterface.htmlhttps://www.martinfowler.com/eaaCatalog/separatedInterface.html" target="_blank" rel="noopener noreferrer">Separated Interface<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div><a href="/﹟hash-tag/#우아한테크코스">
    #우아한테크코스 
  </a><a href="/﹟hash-tag/#달록">
    #달록 
  </a><a href="/﹟hash-tag/#테스트 격리">
    #테스트 격리 
  </a></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">last updated:</span> <span class="time">8/10/2022, 1:08:01 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/woowacourse/dallog/submodule.html" class="prev">
        달록 서브모듈 도입기
      </a></span> <span class="next"><a href="/woowacourse/level-1-mission/01-java-racing-car-step1.html">
        01. 1단계 - 자동차 경주 구현
      </a>
      →
    </span></p></div> <div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bebab83a.js" defer></script><script src="/assets/js/29.dea8b5c1.js" defer></script><script src="/assets/js/2.310b603e.js" defer></script><script src="/assets/js/28.44d27455.js" defer></script><script src="/assets/js/35.ee6b29fa.js" defer></script>
  </body>
</html>
