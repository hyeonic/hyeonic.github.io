## 2021.07.30 op.gg 백엔드 회의

## op.gg

기현님

1. user

 * user는 구글 Oauth2를 활용하여 로그인을 진행한다.
 * DB에 존재하지 않는 user는 `회원가입`을 진행하도록 유도한다.
 * DB에 존재하면 user는 `로그인`을 진행한다.

 * user는 여러 개의 플레이 리스트를 `등록`할 수 있다.
 * user는 여러 개의 플레이 리스트를 `와딩`할 수 있다.
 * user의 플레이 리스트의 근간이 되는 것은 youtube 뮤직 플레이 리스트 및 spotify 에서 제공하는 플레이 리스트이다.
    * 플레이 리스트를 조회하기 위해선 각 api에 접근하기 위한 `access token`이 필요하다.
    * 조회할 때만 token이 필요할 예정
    * 플레이 리스트의 노래 목록을 수정하거나 삭제하는 행위는 오로지 각 플레이 리스트 페이지에서 한다고 가정한다.
    * 우리는 단순히 즐겨 사용하는 플레이 리스트를 공유하는 목적
    * 플레이 리스트가 변경되면? 우선 플레이 리스트와 플레이 리스트를 비교하고 변경 사항이 파악되면 안에 세부 노래 항목을 조정한다. 만약 삭제된 플레이 리스트면 삭제 진행
 * api로 제공 받은 플레이 리스트를 `공유`하는 즉시 music ward DB에 반영 된다.
 * user는 일반 유저와 관리자로 나뉜다.

2. 플레이 리스트
 
 * 플레이 리스트에는 원본 플레이 리스트에 대한 정보가 담겨 있다. 
 * 추가적으로 music ward에서 기재하는 정보를 가지고 있다. (ex. 별도의 제목과 태그 등)
 * 플레이 리스트는 다수의 노래를 가질 수 있다.
 * 원본 플레이 리스트와 비교하여 변경 사항이 있으면, 노래 리스트를 수정한다.
 * 플레이 리스트는 여러 개의 태그를 가질 수 있다.
 * 플레이 리스트를 나타내는 챔피언을 선정할 수 있다. -> 이것을 태그에 같이 넣을 것인가?
 * 플레이 리스트는 대표 썸네일을 가져야 한다. -> 랜덤 혹은 원본 플레이 리스트의 가장 처음 썸네일 url
 * 플레이 리스트는 조회수를 가지고 있다.
 * 플레이 리스트에는 댓글을 남길 수 있다.

3. 댓글

 * 대댓글은 지원하지 않는다.

4. 노래
 
 * 플레이 리스트에 종속되는 노래이다.
 * 노래는 원본 노래의 정보를 가지고 있다.

5. 태그

 * 플레이 리스트에 종속된 태그이다.
 * 검색 등 각종 키워드가 사용될 수 있다. (ex. 연패, 연승 등)

6. 챔피언
 
 * 챔피언에 대한 정보를 가지고 있다. (ex. 스토리, 포지션 등)
 * 초기에는 10 ~ 20가지의 챔피언만 등록한다. 챔피언은 오직 관리자를 통해서만 추가되거나 수정될 수 있다. vs 처음부터 모든 챔피언을 다 제공해준다(사진 및 챔피언 설명).
 * 챔피언은 수정될 가능성이 있다. (ex. 리메이크, 라인 변경 등)

7. 와드

 * 유저가 와드한 플레이 리스트 목록을 가지고 있다.
 * 찜 목록과 같은 역할을 한다.
 * 와딩한 플레이 리스트는 보관함에서 확인할 수 있다.

재석님

**유저**

- 유저고유ID
- 프로필사진
- 가입타입(구글, 카카오)
- 가입날짜
- 소셜 회원번호 or email
- 소셜 refresh_token
- 탈퇴일
- 탈퇴여부
- 닉네임
- 스포티파이 연동여부
- 스포티파이 연동 OATUH access_token
- 스포티파이 연동 OATUH refresh_token
- 유튜브 연동여부(구글가입시자동)
- 유튜브 연동 OATUH access_token
- 유튜브 연동 OATUH refresh_token
- 업데이트날짜
- 내 플레이리스트(플레이리스트 고유ID)
- 유저권한

**보관함**

- 보관함고유ID
- 유저ID
- 플레이리스트ID
- 추가된날짜
- 삭제날짜
- 삭제여부

**플레이 리스트**

- 플레이리스트고유ID
- 플레이리스트 제목
- 챔피언
- 감정
- 태그3개(생성시 챔피언 감정 포함되는형식)
- 만들어진날짜
- 삭제날짜
- 업데이트날짜
- 삭제여부(y,n)
- 유저 ID
- 와드수(좋아요)
- 플레이리스트 URL
- 곡수
- 조회수
- 종합점수?
- 플레이리스트 이미지url
- 플레이리스트타입(유튜브,스포티파이)
- 플레이리스트 글내용

**SONG**

- SONG고유ID
- 플레이리스트고유ID
- SONG이미지url
- SONG URL
- SONG 제목
- SONG 아티스트
- SONG 앨범명

**댓글**

- 댓글고유ID
- 플레이리스트고유ID
- 유저ID
- 댓글내용
- 만들어진날짜
- 업데이트날짜
- 삭제날짜
- 삭제여부

**신고**

- 신고고유ID
- 플레이리스트고유ID
- 유저ID
- 신고사유
- 신고날짜(만들어진날짜)

**챔피언**

- 챔피언고유ID
- 챔피언이름
- 와드수
- 조회수
- 댓글수
- 종합점수
- 챔피언이미지
- 챔피언스토리 내용
- 업데이트날짜

**플레이리스트 랭킹**

- 플레이리스트 랭킹고유ID
- 플레이리스트ID
- 순위
- 종합점수?
- 업데이트날짜

**소환사명 검색**

- 검색고유ID
- 소환사명
- 많이사용된챔피언
- 티어
- 현재게임상태(연패,연승,승률50프로)
- 최근게임타입(칼바람,일반게임,랭크게임,팀랭크게임)
- 검색날짜

## 내일 할일
 - 코테 준비
 - 책 읽기