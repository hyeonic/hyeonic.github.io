<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>08. 4, 5단계 - 체스 | 배움을 기록</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="alternate" type="application/rss+xml" href="https://hyeonic.github.io/rss.xml" title="배움을 기록 RSS Feed">
    <link rel="alternate" type="application/atom+xml" href="https://hyeonic.github.io/feed.atom" title="배움을 기록 Atom Feed">
    <link rel="alternate" type="application/json" href="https://hyeonic.github.io/feed.json" title="배움을 기록 JSON Feed">
    <meta name="description" content="배움을 기록하기 위한 블로그입니다.">
    
    <link rel="preload" href="/assets/css/0.styles.99aea42e.css" as="style"><link rel="preload" href="/assets/js/app.bebab83a.js" as="script"><link rel="preload" href="/assets/js/29.dea8b5c1.js" as="script"><link rel="preload" href="/assets/js/2.310b603e.js" as="script"><link rel="preload" href="/assets/js/270.d8edcbd1.js" as="script"><link rel="preload" href="/assets/js/33.2738bbe3.js" as="script"><link rel="preload" href="/assets/js/35.ee6b29fa.js" as="script"><link rel="prefetch" href="/assets/js/10.67e17163.js"><link rel="prefetch" href="/assets/js/100.c00e40ce.js"><link rel="prefetch" href="/assets/js/101.60511d14.js"><link rel="prefetch" href="/assets/js/102.23645790.js"><link rel="prefetch" href="/assets/js/103.012700e6.js"><link rel="prefetch" href="/assets/js/104.071203c1.js"><link rel="prefetch" href="/assets/js/105.015fde52.js"><link rel="prefetch" href="/assets/js/106.cc7960aa.js"><link rel="prefetch" href="/assets/js/107.55886281.js"><link rel="prefetch" href="/assets/js/108.4cec2c7c.js"><link rel="prefetch" href="/assets/js/109.c6b45615.js"><link rel="prefetch" href="/assets/js/11.26dda1eb.js"><link rel="prefetch" href="/assets/js/110.d8cad6ca.js"><link rel="prefetch" href="/assets/js/111.9cb4698b.js"><link rel="prefetch" href="/assets/js/112.553928e8.js"><link rel="prefetch" href="/assets/js/113.2f037200.js"><link rel="prefetch" href="/assets/js/114.b5392937.js"><link rel="prefetch" href="/assets/js/115.697bf967.js"><link rel="prefetch" href="/assets/js/116.6b60b03e.js"><link rel="prefetch" href="/assets/js/117.7a170acd.js"><link rel="prefetch" href="/assets/js/118.86c43ab0.js"><link rel="prefetch" href="/assets/js/119.5d15fbbb.js"><link rel="prefetch" href="/assets/js/12.f8ccec4e.js"><link rel="prefetch" href="/assets/js/120.8da52a79.js"><link rel="prefetch" href="/assets/js/121.ca0dbf18.js"><link rel="prefetch" href="/assets/js/122.4ab841ef.js"><link rel="prefetch" href="/assets/js/123.ea88567a.js"><link rel="prefetch" href="/assets/js/124.d6d0f9e6.js"><link rel="prefetch" href="/assets/js/125.644a5fcc.js"><link rel="prefetch" href="/assets/js/126.49277078.js"><link rel="prefetch" href="/assets/js/127.ba9b56b1.js"><link rel="prefetch" href="/assets/js/128.7a501332.js"><link rel="prefetch" href="/assets/js/129.9578aaa9.js"><link rel="prefetch" href="/assets/js/13.675eb1b2.js"><link rel="prefetch" href="/assets/js/130.ba74a14f.js"><link rel="prefetch" href="/assets/js/131.47fb91b9.js"><link rel="prefetch" href="/assets/js/132.3f499ec7.js"><link rel="prefetch" href="/assets/js/133.1b4f200b.js"><link rel="prefetch" href="/assets/js/134.6db259a0.js"><link rel="prefetch" href="/assets/js/135.52f1f180.js"><link rel="prefetch" href="/assets/js/136.675033a7.js"><link rel="prefetch" href="/assets/js/137.ef21534e.js"><link rel="prefetch" href="/assets/js/138.8dd07ea4.js"><link rel="prefetch" href="/assets/js/139.b5035cf3.js"><link rel="prefetch" href="/assets/js/14.601c3e23.js"><link rel="prefetch" href="/assets/js/140.bfee15e9.js"><link rel="prefetch" href="/assets/js/141.7d3c2030.js"><link rel="prefetch" href="/assets/js/142.cdbb1046.js"><link rel="prefetch" href="/assets/js/143.b3d7b0cc.js"><link rel="prefetch" href="/assets/js/144.c19d10c1.js"><link rel="prefetch" href="/assets/js/145.0df417d9.js"><link rel="prefetch" href="/assets/js/146.8286ef2f.js"><link rel="prefetch" href="/assets/js/147.0558c072.js"><link rel="prefetch" href="/assets/js/148.9a169db0.js"><link rel="prefetch" href="/assets/js/149.b011e216.js"><link rel="prefetch" href="/assets/js/15.0e026576.js"><link rel="prefetch" href="/assets/js/150.c87a36e2.js"><link rel="prefetch" href="/assets/js/151.f66d3f48.js"><link rel="prefetch" href="/assets/js/152.8ac9089a.js"><link rel="prefetch" href="/assets/js/153.812099b0.js"><link rel="prefetch" href="/assets/js/154.099c3c7b.js"><link rel="prefetch" href="/assets/js/155.f36ea815.js"><link rel="prefetch" href="/assets/js/156.f4f4ee20.js"><link rel="prefetch" href="/assets/js/157.a291ded2.js"><link rel="prefetch" href="/assets/js/158.879bb104.js"><link rel="prefetch" href="/assets/js/159.b8f807bb.js"><link rel="prefetch" href="/assets/js/16.08bc088d.js"><link rel="prefetch" href="/assets/js/160.d58beca8.js"><link rel="prefetch" href="/assets/js/161.e88840a3.js"><link rel="prefetch" href="/assets/js/162.0c271eda.js"><link rel="prefetch" href="/assets/js/163.ad6d6494.js"><link rel="prefetch" href="/assets/js/164.23c4bfc1.js"><link rel="prefetch" href="/assets/js/165.16ce3f91.js"><link rel="prefetch" href="/assets/js/166.f2dcdf29.js"><link rel="prefetch" href="/assets/js/167.388b5e26.js"><link rel="prefetch" href="/assets/js/168.0e47646f.js"><link rel="prefetch" href="/assets/js/169.50f9b73a.js"><link rel="prefetch" href="/assets/js/17.b863ed98.js"><link rel="prefetch" href="/assets/js/170.c6dd6e4e.js"><link rel="prefetch" href="/assets/js/171.baf426d4.js"><link rel="prefetch" href="/assets/js/172.b4184f82.js"><link rel="prefetch" href="/assets/js/173.5c113452.js"><link rel="prefetch" href="/assets/js/174.ebecda0e.js"><link rel="prefetch" href="/assets/js/175.0b03380a.js"><link rel="prefetch" href="/assets/js/176.6b436253.js"><link rel="prefetch" href="/assets/js/177.98454122.js"><link rel="prefetch" href="/assets/js/178.f88db8b1.js"><link rel="prefetch" href="/assets/js/179.d27a7928.js"><link rel="prefetch" href="/assets/js/18.73ff8b72.js"><link rel="prefetch" href="/assets/js/180.39e0d834.js"><link rel="prefetch" href="/assets/js/181.64305f60.js"><link rel="prefetch" href="/assets/js/182.b6a00a72.js"><link rel="prefetch" href="/assets/js/183.c850114e.js"><link rel="prefetch" href="/assets/js/184.0646358a.js"><link rel="prefetch" href="/assets/js/185.210c31f1.js"><link rel="prefetch" href="/assets/js/186.7aa7e5cf.js"><link rel="prefetch" href="/assets/js/187.0744cf18.js"><link rel="prefetch" href="/assets/js/188.6aabc0bd.js"><link rel="prefetch" href="/assets/js/189.dd3abfcb.js"><link rel="prefetch" href="/assets/js/19.0f762cfb.js"><link rel="prefetch" href="/assets/js/190.97908678.js"><link rel="prefetch" href="/assets/js/191.0f71a14b.js"><link rel="prefetch" href="/assets/js/192.3547ccd4.js"><link rel="prefetch" href="/assets/js/193.257e7d77.js"><link rel="prefetch" href="/assets/js/194.752d5397.js"><link rel="prefetch" href="/assets/js/195.1a3da6e2.js"><link rel="prefetch" href="/assets/js/196.c95355f6.js"><link rel="prefetch" href="/assets/js/197.cb761bad.js"><link rel="prefetch" href="/assets/js/198.442adc4e.js"><link rel="prefetch" href="/assets/js/199.c10edefe.js"><link rel="prefetch" href="/assets/js/20.d41f089f.js"><link rel="prefetch" href="/assets/js/200.b4d9631f.js"><link rel="prefetch" href="/assets/js/201.593cbccb.js"><link rel="prefetch" href="/assets/js/202.e4888bd8.js"><link rel="prefetch" href="/assets/js/203.86593922.js"><link rel="prefetch" href="/assets/js/204.b7c1ba4d.js"><link rel="prefetch" href="/assets/js/205.1d9b23aa.js"><link rel="prefetch" href="/assets/js/206.4535cf01.js"><link rel="prefetch" href="/assets/js/207.867a5a77.js"><link rel="prefetch" href="/assets/js/208.3d30a2ce.js"><link rel="prefetch" href="/assets/js/209.0270c483.js"><link rel="prefetch" href="/assets/js/21.a505274d.js"><link rel="prefetch" href="/assets/js/210.cb9d5f40.js"><link rel="prefetch" href="/assets/js/211.50e3fb2a.js"><link rel="prefetch" href="/assets/js/212.b1fbf9ad.js"><link rel="prefetch" href="/assets/js/213.22045688.js"><link rel="prefetch" href="/assets/js/214.feb6c7ca.js"><link rel="prefetch" href="/assets/js/215.a644d1a8.js"><link rel="prefetch" href="/assets/js/216.e60bfc4b.js"><link rel="prefetch" href="/assets/js/217.3ed26cc5.js"><link rel="prefetch" href="/assets/js/218.0b70f333.js"><link rel="prefetch" href="/assets/js/219.7eaad619.js"><link rel="prefetch" href="/assets/js/22.cc9208d8.js"><link rel="prefetch" href="/assets/js/220.742670b3.js"><link rel="prefetch" href="/assets/js/221.a7dfe9ef.js"><link rel="prefetch" href="/assets/js/222.c0487ad2.js"><link rel="prefetch" href="/assets/js/223.a515adcf.js"><link rel="prefetch" href="/assets/js/224.7110f2c8.js"><link rel="prefetch" href="/assets/js/225.851037e1.js"><link rel="prefetch" href="/assets/js/226.8b9e4f03.js"><link rel="prefetch" href="/assets/js/227.a811050d.js"><link rel="prefetch" href="/assets/js/228.6f41c297.js"><link rel="prefetch" href="/assets/js/229.a315889d.js"><link rel="prefetch" href="/assets/js/23.4409a2c1.js"><link rel="prefetch" href="/assets/js/230.b11842a5.js"><link rel="prefetch" href="/assets/js/231.1166a5ca.js"><link rel="prefetch" href="/assets/js/232.a5116983.js"><link rel="prefetch" href="/assets/js/233.1dbf9819.js"><link rel="prefetch" href="/assets/js/234.3b66e66e.js"><link rel="prefetch" href="/assets/js/235.0feea1ef.js"><link rel="prefetch" href="/assets/js/236.b3ce678a.js"><link rel="prefetch" href="/assets/js/237.90fe8937.js"><link rel="prefetch" href="/assets/js/238.1750ee1f.js"><link rel="prefetch" href="/assets/js/239.59d86858.js"><link rel="prefetch" href="/assets/js/24.e6bf5d09.js"><link rel="prefetch" href="/assets/js/240.2a91057e.js"><link rel="prefetch" href="/assets/js/241.4d61ddbb.js"><link rel="prefetch" href="/assets/js/242.98f9c645.js"><link rel="prefetch" href="/assets/js/243.f93e7a9c.js"><link rel="prefetch" href="/assets/js/244.c439e511.js"><link rel="prefetch" href="/assets/js/245.24491398.js"><link rel="prefetch" href="/assets/js/246.a1cf3e8a.js"><link rel="prefetch" href="/assets/js/247.44872e83.js"><link rel="prefetch" href="/assets/js/248.de5ff7a5.js"><link rel="prefetch" href="/assets/js/249.054087a3.js"><link rel="prefetch" href="/assets/js/25.a9036cee.js"><link rel="prefetch" href="/assets/js/250.39c32d51.js"><link rel="prefetch" href="/assets/js/251.a9dde4e5.js"><link rel="prefetch" href="/assets/js/252.18d0f92b.js"><link rel="prefetch" href="/assets/js/253.c9ff7474.js"><link rel="prefetch" href="/assets/js/254.46bb2028.js"><link rel="prefetch" href="/assets/js/255.dd0b5d64.js"><link rel="prefetch" href="/assets/js/256.04f863e5.js"><link rel="prefetch" href="/assets/js/257.16ca8bf1.js"><link rel="prefetch" href="/assets/js/258.7f670679.js"><link rel="prefetch" href="/assets/js/259.fd301d9e.js"><link rel="prefetch" href="/assets/js/26.91842660.js"><link rel="prefetch" href="/assets/js/260.c9a3cb7a.js"><link rel="prefetch" href="/assets/js/261.a85397ed.js"><link rel="prefetch" href="/assets/js/262.babc1143.js"><link rel="prefetch" href="/assets/js/263.993ac176.js"><link rel="prefetch" href="/assets/js/264.fae9fcc1.js"><link rel="prefetch" href="/assets/js/265.7ba2936e.js"><link rel="prefetch" href="/assets/js/266.88bd11fd.js"><link rel="prefetch" href="/assets/js/267.98f4491f.js"><link rel="prefetch" href="/assets/js/268.9075d875.js"><link rel="prefetch" href="/assets/js/269.09fc4473.js"><link rel="prefetch" href="/assets/js/27.d1482ad8.js"><link rel="prefetch" href="/assets/js/271.825a8e8d.js"><link rel="prefetch" href="/assets/js/272.6dd27076.js"><link rel="prefetch" href="/assets/js/273.e1069a5e.js"><link rel="prefetch" href="/assets/js/274.b3aaa369.js"><link rel="prefetch" href="/assets/js/275.1b3c859e.js"><link rel="prefetch" href="/assets/js/276.90d9fdfd.js"><link rel="prefetch" href="/assets/js/277.a6aab33f.js"><link rel="prefetch" href="/assets/js/278.29f5caeb.js"><link rel="prefetch" href="/assets/js/279.3fda1474.js"><link rel="prefetch" href="/assets/js/28.44d27455.js"><link rel="prefetch" href="/assets/js/280.9bfaf35b.js"><link rel="prefetch" href="/assets/js/281.447155ad.js"><link rel="prefetch" href="/assets/js/282.13ca54ae.js"><link rel="prefetch" href="/assets/js/283.91ecbeab.js"><link rel="prefetch" href="/assets/js/284.2601b2e8.js"><link rel="prefetch" href="/assets/js/285.04a10786.js"><link rel="prefetch" href="/assets/js/286.e650e1eb.js"><link rel="prefetch" href="/assets/js/3.520847a4.js"><link rel="prefetch" href="/assets/js/30.f00cf9e9.js"><link rel="prefetch" href="/assets/js/31.1b26dbe4.js"><link rel="prefetch" href="/assets/js/32.77b5db48.js"><link rel="prefetch" href="/assets/js/34.c2ac9975.js"><link rel="prefetch" href="/assets/js/36.ad7bedec.js"><link rel="prefetch" href="/assets/js/37.8e865dfa.js"><link rel="prefetch" href="/assets/js/38.b73142fe.js"><link rel="prefetch" href="/assets/js/39.de289cf9.js"><link rel="prefetch" href="/assets/js/4.4930622e.js"><link rel="prefetch" href="/assets/js/40.3a4ce626.js"><link rel="prefetch" href="/assets/js/41.cd2466f8.js"><link rel="prefetch" href="/assets/js/42.0794995e.js"><link rel="prefetch" href="/assets/js/43.d46484ed.js"><link rel="prefetch" href="/assets/js/44.9eb92703.js"><link rel="prefetch" href="/assets/js/45.03c49247.js"><link rel="prefetch" href="/assets/js/46.7687d8fc.js"><link rel="prefetch" href="/assets/js/47.0845747a.js"><link rel="prefetch" href="/assets/js/48.6cb7df69.js"><link rel="prefetch" href="/assets/js/49.22e20bcf.js"><link rel="prefetch" href="/assets/js/5.135ba8e3.js"><link rel="prefetch" href="/assets/js/50.8e1fa1af.js"><link rel="prefetch" href="/assets/js/51.f5ef84d2.js"><link rel="prefetch" href="/assets/js/52.6eb43a90.js"><link rel="prefetch" href="/assets/js/53.458b37e1.js"><link rel="prefetch" href="/assets/js/54.db14424c.js"><link rel="prefetch" href="/assets/js/55.28e9510f.js"><link rel="prefetch" href="/assets/js/56.fe9ab551.js"><link rel="prefetch" href="/assets/js/57.3ba0bb98.js"><link rel="prefetch" href="/assets/js/58.fbb1fc83.js"><link rel="prefetch" href="/assets/js/59.5800f06b.js"><link rel="prefetch" href="/assets/js/6.f862661f.js"><link rel="prefetch" href="/assets/js/60.66f63d18.js"><link rel="prefetch" href="/assets/js/61.3720b486.js"><link rel="prefetch" href="/assets/js/62.24322458.js"><link rel="prefetch" href="/assets/js/63.a7349f17.js"><link rel="prefetch" href="/assets/js/64.cdcb04d6.js"><link rel="prefetch" href="/assets/js/65.113ee420.js"><link rel="prefetch" href="/assets/js/66.7a44862c.js"><link rel="prefetch" href="/assets/js/67.8c989652.js"><link rel="prefetch" href="/assets/js/68.a9898139.js"><link rel="prefetch" href="/assets/js/69.62526e54.js"><link rel="prefetch" href="/assets/js/7.ddc319a6.js"><link rel="prefetch" href="/assets/js/70.f301bb2a.js"><link rel="prefetch" href="/assets/js/71.4b68e7a8.js"><link rel="prefetch" href="/assets/js/72.be9404d9.js"><link rel="prefetch" href="/assets/js/73.cbf9366a.js"><link rel="prefetch" href="/assets/js/74.cdd9fdfd.js"><link rel="prefetch" href="/assets/js/75.455c554b.js"><link rel="prefetch" href="/assets/js/76.b0ea7067.js"><link rel="prefetch" href="/assets/js/77.50272e98.js"><link rel="prefetch" href="/assets/js/78.acc24f13.js"><link rel="prefetch" href="/assets/js/79.da87d76b.js"><link rel="prefetch" href="/assets/js/8.a129151e.js"><link rel="prefetch" href="/assets/js/80.c0df8999.js"><link rel="prefetch" href="/assets/js/81.43aa552f.js"><link rel="prefetch" href="/assets/js/82.b387188e.js"><link rel="prefetch" href="/assets/js/83.0a72b5c1.js"><link rel="prefetch" href="/assets/js/84.793a20c3.js"><link rel="prefetch" href="/assets/js/85.82f9edc8.js"><link rel="prefetch" href="/assets/js/86.c13f74b3.js"><link rel="prefetch" href="/assets/js/87.f3fd53db.js"><link rel="prefetch" href="/assets/js/88.270f897b.js"><link rel="prefetch" href="/assets/js/89.1de68c78.js"><link rel="prefetch" href="/assets/js/9.94da8df0.js"><link rel="prefetch" href="/assets/js/90.e7c0be0e.js"><link rel="prefetch" href="/assets/js/91.b86b0037.js"><link rel="prefetch" href="/assets/js/92.802ffe37.js"><link rel="prefetch" href="/assets/js/93.d9e5c77e.js"><link rel="prefetch" href="/assets/js/94.8f592bdd.js"><link rel="prefetch" href="/assets/js/95.a4afa189.js"><link rel="prefetch" href="/assets/js/96.f4d6eff3.js"><link rel="prefetch" href="/assets/js/97.5c923d49.js"><link rel="prefetch" href="/assets/js/98.48337bf5.js"><link rel="prefetch" href="/assets/js/99.09ca5be8.js">
    <link rel="stylesheet" href="/assets/css/0.styles.99aea42e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">배움을 기록</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/﹟hash-tag/" class="nav-link">
  tag
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/spring/" class="nav-link">
  spring
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic/hyeonic.github.io/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/woowacourse-teams/2022-dallog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dallog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/OPGG-HACKTHON/MusicWard-Server" target="_blank" rel="noopener noreferrer" class="nav-link external">
  music-ward
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/﹟hash-tag/" class="nav-link">
  tag
</a></div><div class="nav-item"><a href="/java/" class="nav-link">
  java
</a></div><div class="nav-item"><a href="/spring/" class="nav-link">
  spring
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/hyeonic/hyeonic.github.io/issues" target="_blank" rel="noopener noreferrer" class="nav-link external">
  건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/woowacourse-teams/2022-dallog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dallog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://github.com/OPGG-HACKTHON/MusicWard-Server" target="_blank" rel="noopener noreferrer" class="nav-link external">
  music-ward
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>About</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Etc</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Git</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Infra</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Java</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Jpa</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Operating System</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Problem Solving</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Retrospect</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Spring</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Study</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Woowacourse</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/woowacourse/" aria-current="page" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Dallog</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Level 1-Mission</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/woowacourse/level-1-mission/01-java-racing-car-step1.html" class="sidebar-link">01. 1단계 - 자동차 경주 구현</a></li><li><a href="/woowacourse/level-1-mission/02-java-racing-car-step2.html" class="sidebar-link">02. 2단계 - 자동차 경주 리팩터링</a></li><li><a href="/woowacourse/level-1-mission/03-java-lotto-step1.html" class="sidebar-link">03. 1단계 - 로또(자동)</a></li><li><a href="/woowacourse/level-1-mission/04-java-lotto-step2.html" class="sidebar-link">04. 2단계 - 로또(수동)</a></li><li><a href="/woowacourse/level-1-mission/05-java-blackjack-step1.html" class="sidebar-link">05. 1단계 - 블랙잭</a></li><li><a href="/woowacourse/level-1-mission/06-java-blackjack-step2.html" class="sidebar-link">06. 2단계 - 블랙잭(베팅)</a></li><li><a href="/woowacourse/level-1-mission/07-java-chess-step1.html" class="sidebar-link">07. 1, 2, 3단계 - 체스</a></li><li><a href="/woowacourse/level-1-mission/08-java-chess-step2.html" aria-current="page" class="active sidebar-link">08. 4, 5단계 - 체스</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#목표" class="sidebar-link">목표</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#_08-4-5단계-체스-리뷰-확인" class="sidebar-link">08. 4, 5단계 - 체스 리뷰 확인</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#객체와-db-사이의-간극" class="sidebar-link">객체와 DB 사이의 간극</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#도메인-객체의-view-의존" class="sidebar-link">도메인 객체의 view 의존</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#fake-객체를-통한-테스트-더블" class="sidebar-link">fake 객체를 통한 테스트 더블</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#미션-회고" class="sidebar-link">미션 회고</a></li><li class="sidebar-sub-header"><a href="/woowacourse/level-1-mission/08-java-chess-step2.html#references" class="sidebar-link">References</a></li></ul></li><li><a href="/woowacourse/level-1-mission/09-level-interview.html" class="sidebar-link">09. level interview</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Level 2-Mission</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Level 4-Mission</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Precourse</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>﹟hash Tag</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_08-4-5단계-체스"><a href="#_08-4-5단계-체스" class="header-anchor">#</a> 08. 4, 5단계 - 체스</h1> <div><p align="center"><img src="https://user-images.githubusercontent.com/59357153/152970395-a31c8134-fc89-449f-b4dc-441e03df929c.png"></p></div> <h2 id="목표"><a href="#목표" class="header-anchor">#</a> 목표</h2> <p>우아한테크코스에서 진행한 미션의 리뷰와 피드백에 대해 정리한다. 실제 리뷰는 <a href="https://github.com/woowacourse/java-chess/pull/375" target="_blank" rel="noopener noreferrer">[4, 5단계 - 체스] 매트(최기현) 미션 제출합니다.<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>에서 확인할 수 있다.</p> <h2 id="_08-4-5단계-체스-리뷰-확인"><a href="#_08-4-5단계-체스-리뷰-확인" class="header-anchor">#</a> 08. 4, 5단계 - 체스 리뷰 확인</h2> <p>드디어 레벨 1의 마지막 미션이 마무리 되었다. 2달의 기간이 정말 순식간에 지나간 것 같다. 이번 미션의 요구사항은 기존 도메인 구조를 최대한 유지하며 DB와 WEB 구조를 도입하는 것이다. 하지만 처음 부터 전환 과정이 순탄했던 것은 아니다. 아래는 이번 미션을 통해 고민한 내용들을 정리하였다.</p> <h2 id="객체와-db-사이의-간극"><a href="#객체와-db-사이의-간극" class="header-anchor">#</a> 객체와 DB 사이의 간극</h2> <p>5단계에서 웹 서버를 재시작하더라도 이전에 하던 체스 게임을 다시 시작할 수 있어야 하는 요구사항이 추가되었다. 그렇기 때문에 DB에 기물과 위치에 관련된 정보를 관리해야 한다고 판단하였다.</p> <p>하지만 이전에 작성한 기물에 대한 도메인 정보를 DB에 녹여내는 것은 쉽지 않았다. 정리하면 <code>DB 테이블의 엔티티</code>와 <code>도메인 객체</code> 사이의 <code>패러다임</code>의 차이에서 오는 간극을 줄일 수 있는 뚜렷한 방법이 떠오르지 않았다.</p> <p>아래는 나이트를 나타내기 위한 <code>Knight</code> 객체이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Knight</span> <span class="token keyword">extends</span> <span class="token class-name">Piece</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">MovingStrategy</span> MOVING_STRATEGY <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LengthBasedMovingStrategy</span><span class="token punctuation">(</span>number <span class="token operator">-&gt;</span> number <span class="token operator">==</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> NOTATION <span class="token operator">=</span> <span class="token string">&quot;N&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">double</span> SCORE <span class="token operator">=</span> <span class="token number">2.5</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Knight</span><span class="token punctuation">(</span><span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>color<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">validateMove</span><span class="token punctuation">(</span><span class="token class-name">Board</span> board<span class="token punctuation">,</span> <span class="token class-name">Position</span> source<span class="token punctuation">,</span> <span class="token class-name">Position</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>MOVING_STRATEGY<span class="token punctuation">.</span><span class="token function">canMove</span><span class="token punctuation">(</span>board<span class="token punctuation">,</span> source<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;기물을 이동할 수 없습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isKing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isPawn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getNotation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> color<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>NOTATION<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> SCORE<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Knight는 진영에 대한 정보와 이동 전략에 대한 정보들을 담고 있다. 이러한 객체 정보를 DB에서 관리하는 것은 한계가 있다고 생각했다. 아래는 DB로 관리하기 위한 정보를 기반으로 만든 테이블이다. DB에는 현재 포지션과 해당 포지션의 기물을 저장해두기 위해 테이블을 설계하였다.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> piece
<span class="token punctuation">(</span>
    id         <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    piece_type <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>DB에는 대부분의 것들이 문자열로 저장된다. 해당 정보를 기반으로 도메인 객체로 변환해 주기 위한 객체가 필요해졌다. 그 역할을 담당하는 것은 <code>PieceType</code>이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">PieceType</span> <span class="token punctuation">{</span>

    <span class="token function">KING_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;king white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">King</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">QUEEN_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;queen white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Queen</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ROOK_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;rook white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Rook</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">KNIGHT_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;knight white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Knight</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BISHOP_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;bishop white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Bishop</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PAWN_WHITE</span><span class="token punctuation">(</span><span class="token string">&quot;pawn white&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Pawn</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>WHITE<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">KING_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;king black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">King</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">QUEEN_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;queen black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Queen</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">ROOK_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;rook black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Rook</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">KNIGHT_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;knight black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Knight</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">BISHOP_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;bishop black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Bishop</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">PAWN_BLACK</span><span class="token punctuation">(</span><span class="token string">&quot;pawn black&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Pawn</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span>BLACK<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> type<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Piece</span> piece<span class="token punctuation">;</span>

    <span class="token class-name">PieceType</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span> <span class="token class-name">Piece</span> piece<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>piece <span class="token operator">=</span> piece<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">PieceType</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">String</span> pieceType<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>value <span class="token operator">-&gt;</span> value<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>pieceType<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">findFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;존재하지 않는 기물 유형입니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Piece</span> <span class="token function">getPiece</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> piece<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> type<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>DB에 저장된 type 정보를 기반으로 그에 맞는 객체를 생성해준다. 해당 객체는 DB에 대한 의존성을 강하게 가지고 있기 때문에 도메인 패키지 외부에 위치하였다.</p> <div><p align="center"><img src="https://user-images.githubusercontent.com/59357153/163393987-482221b4-a5f9-4a33-a34f-0d2e7b4d169a.png"></p></div> <h3 id="도메인-객체는-소중하다"><a href="#도메인-객체는-소중하다" class="header-anchor">#</a> 도메인 객체는 소중하다</h3> <p>위 처럼 도메인 객체를 DB에 저장하기 위해 변환을 위한 <code>enum</code>들은 초기에 도메인 객체 내부에 위치하였다. 관련해서 아래와 같은 리뷰를 확인할 수 있었다.</p> <div class="custom-block tip"><p class="custom-block-title">리뷰 중 일부</p> <p><code>루피</code>: 본문에 적어주신 의도라면 해당 enum 객체는 도메인으로 분류해도 괜찮을까요? 도메인 객체가 DB 의 영향을 받는 것이 문제가 없을지 한번 생각해봐주시면 좋을 것 같아요.</p></div> <p>즉 해당 로직들이 도메인 패키지 내부에 위치한다는 것은 도메인 내부에 DB와 관련된 의존성을 강하게 가지는 것을 의미한다. 만약 DB가 변경된다면 이것은 도메인의 변경까지 영향이 닿게된다.</p> <p>도메인은 매우 중요한 요구사항을 해결하기 위한 <code>비즈니스 로직</code>들이 담겨 있다. 외부의 변경으로 인해 중요한 도메인 로직이 변경되면 해당 도메인을 사용하는 애플리케이션은 어떤식으로 영향이 갈지 가늠할 수 없다.</p> <h3 id="state-객체와-db"><a href="#state-객체와-db" class="header-anchor">#</a> State 객체와 DB</h3> <p>이번 미션에서 가장 많은 고민을 진행한 것이다. 기존 State 객체는 상태 패턴을 통해 복잡한 상속 구조를 동반한다. 결국 복잡한 패턴은 DB에 데이터를 저장할 때 발목을 잡게 되었다. 객체 정보를 DB에 저장하는 것은 매우 어렵게 다가왔기 때문이다.</p> <p>관련하여 아래와 같은 질문을 남겼다.</p> <div class="custom-block tip"><p class="custom-block-title">리뷰 중 일부</p> <p><code>매트</code>: 추가적으로 도메인 내부 DB에 대한 의존성을 없애던 중 추가적인 고민이 생겨 질문드립니다! 아래는 ChessGame의 상태 조회를 위한 메서드입니다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ChessGame</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">public</span> <span class="token class-name">State</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>현재 로직에서 상태 정보 조회가 필요한 이유는 move이후 변경된 턴 정보를 저장하기 위해 필요합니다. 한 가지 우려되는 것은 state 자체를 반환하게 될 경우 모든 행위가 public한 특성으로 인해 의도적인 변경에 대비할 수 없다는 것입니다.</p> <p>결국 이러한 고민들이 생겨나는 이유는 애초에 도메인 객체 자체를 DB에 저장하기 힘든 구조로 설계한 탓이라고 판단하는데 이에 대한 루피의 의견이 궁금합니다.</p></div> <div class="custom-block tip"><p class="custom-block-title">리뷰 중 일부</p> <p><code>루피</code>: 리뷰 요청시 남겨주신 코멘트처럼 <code>패러다임 의 차이</code>로 객체의 상태를 관계형 데이터베이스의 상태에 저장하는 것은 어렵고 많은 고민이 필요한 과정이 맞다고 생각하는데요.</p> <p>결국에 한 쪽에 타협을 해야하고 도메인 객체에 맞춰 테이블 구조를 만들거나 테이블 구조에 맞춰 도메인 객체를 만들거나 둘 중 하나가 될 것 같은데, 저는 도메인 객체에 맞춰 테이블 구조를 만드는 것을 선호합니다 ㅎㅎ</p></div> <p>그렇다면 처음 부터 DB에 친화적인 도메인 객체를 설계해야 할까? 아직은 확신이 서지 않는다. web과 DB로 전환하며 이전에는 고민하지 못했던 많은 것들을 생각하게 되는 계기가 되었다. 뚜렷한 답을 찾은 것은 아니지만 의식적인 연습을 통해 나만의 해답을 만들어 가야 한다.</p> <h2 id="도메인-객체의-view-의존"><a href="#도메인-객체의-view-의존" class="header-anchor">#</a> 도메인 객체의 view 의존</h2> <p>앞서 언급한 것 처럼 도메인은 외부(ex. view, DB 등)에 의존하는 것은 지양하는 것이 좋다. 이것은 직접적인 사용을 통해 의존하는 것과 <code>간접적으로 view에 의존하는 행위</code>를 만드는 것을 모두 포함한다. 아래는 관련한 리뷰를 정리한 것이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Piece</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">Piece</span><span class="token punctuation">(</span><span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> color<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">리뷰 중 일부</p> <p><code>루피</code>: <code>getColor()</code> 메서드는 view 를 알고 있어야 만들어질 수 있는 메서드가 아닐까요 ?</p></div> <p>해당 메서드는 view에서 기물의 color정보가 필요할 때 사용하기 위한 메서드이다. 이것 또한 view를 알고 있어야 만들어질 수 있는 메서드이다. 즉 간접적으로 view에 대한 의존성을 가지고 있다는 것이다.</p> <p>결국 <code>getColor()</code> 메서드는 아래와 같이 개선되었다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Piece</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">Color</span> color<span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token class-name">Piece</span><span class="token punctuation">(</span><span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

    <span class="token keyword">public</span> <span class="token class-name">Color</span> <span class="token function">getColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> color<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>이제 Piece는 더 이상 view에 대한 간접적인 의존성을 가지고 있지 않다. 해당 메서드는 view에 의해 추가된 것이 아니기 때문이다.</p> <p>해당 리뷰를 통해서 직접적으로 view를 사용하는 것 뿐만아니라 외부에 의해서 생기는 행위 조차도 지양하는 것이 좋다는 것을 알게 되었다. 루피 또한 아래와 같이 의견을 남겨 주었다.</p> <div class="custom-block tip"><p class="custom-block-title">리뷰 중 일부</p> <p><code>루피</code>: 도메인 객체는 view 와 db 에 대하여 직접 아는 것(의존하는 것)과 간접적으로 아는 것을 모두 지양할수록 좋습니다.</p> <p>이유는 <code>언급하신 것 처럼 도메인에서 데이터베이스를 의존하는 것은 좋지 않다고 생각합니다. 만약 요구사항의 변경으로 데이터베이스가 변경되면 가장 중요한 도메인도 영향을 끼칠 수 있기 때문이라고 판단합니다.</code>라고 남겨 주신 이유 때문입니다.</p></div> <h2 id="fake-객체를-통한-테스트-더블"><a href="#fake-객체를-통한-테스트-더블" class="header-anchor">#</a> fake 객체를 통한 테스트 더블</h2> <p>DB 도입 이전에 fake DAO를 통해 개발을 진행했다. 덕분에 DB에 대한 의존성 없이 service 계층을 구현할 수 있었고 DB와 연동된 DAO가 개발이 완료된 후 의존성 주입을 통해 손쉽게 구현체를 변경할 수 있었다.</p> <div class="custom-block tip"><p class="custom-block-title">테스트 더블 중 fake</p> <ul><li>복잡한 로직이나 객체 내부에서 필요로 하는 다른 외부 객체들의 동작을 단순화하여 구현한 객체이다.</li> <li>동작의 구현을 가지고 있지만 실제 프로덕션에는 적합하지 않은 객체이다.</li></ul></div> <p>아래는 이번 미션에서 작성한 <code>fake DAO</code> 이다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MemoryPieceDao</span> <span class="token keyword">implements</span> <span class="token class-name">PieceDao</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">PieceDto</span><span class="token punctuation">&gt;</span></span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">PieceDto</span> pieceDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>pieceDto<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;기물의 위치는 중복될 수 없습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        store<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>pieceDto<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pieceDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PieceDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">findById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>store<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>store<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">&quot;기물이 존재하지 않습니다.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        store<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PieceDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> store<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token operator">::</span><span class="token function">getValue</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MemoryTurnDao</span> <span class="token keyword">implements</span> <span class="token class-name">TurnDao</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TurnDto</span><span class="token punctuation">&gt;</span></span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">TurnDto</span> turnDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        store<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>turnDto<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TurnDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">findLastTurn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>또한 테스트를 진행할 때 이러한 fake DAO를 통해 service가 가진 행위에 집중하여 <code>DB와 격리된 테스트</code>를 진행할 수 있다.</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">ChessServiceTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ChessService</span> chessService<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">PieceDao</span> pieceDao<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">TurnDao</span> turnDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@BeforeEach</span>
    <span class="token keyword">void</span> <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pieceDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemoryPieceDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        turnDao <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MemoryTurnDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        chessService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChessService</span><span class="token punctuation">(</span>pieceDao<span class="token punctuation">,</span> turnDao<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;ready를 할 경우 게임은 준비 상태가 된다.&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> 레디_게임_준비한다<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chessService<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ChessGame</span> chessGame <span class="token operator">=</span> chessService<span class="token punctuation">.</span><span class="token function">getChessGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StateType</span> stateType <span class="token operator">=</span> <span class="token class-name">StateType</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>chessGame<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">assertThat</span><span class="token punctuation">(</span>stateType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token class-name">StateType</span><span class="token punctuation">.</span>READY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;새 게임을 생성한다.&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> 새_게임_생성한다<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chessService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ChessGame</span> chessGame <span class="token operator">=</span> chessService<span class="token punctuation">.</span><span class="token function">getChessGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StateType</span> stateType <span class="token operator">=</span> <span class="token class-name">StateType</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>chessGame<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">assertThat</span><span class="token punctuation">(</span>stateType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token class-name">StateType</span><span class="token punctuation">.</span>WHITE_TURN<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@DisplayName</span><span class="token punctuation">(</span><span class="token string">&quot;체스의 기물을 움직인다.&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> 기물_움직인다<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        chessService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ChessGame</span> chessGame <span class="token operator">=</span> chessService<span class="token punctuation">.</span><span class="token function">getChessGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        chessGame<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token string">&quot;a2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StateType</span> stateType <span class="token operator">=</span> <span class="token class-name">StateType</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>chessGame<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token function">assertThat</span><span class="token punctuation">(</span>stateType<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isEqualTo</span><span class="token punctuation">(</span><span class="token class-name">StateType</span><span class="token punctuation">.</span>BLACK_TURN<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@AfterEach</span>
    <span class="token keyword">void</span> <span class="token function">tearDown</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pieceDao<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>@BeforeEach</code>를 통해 setUp을 진행할 때 fake DAO를 생성하여 테스트를 진행한다.</p> <h2 id="미션-회고"><a href="#미션-회고" class="header-anchor">#</a> 미션 회고</h2> <p>이번 미션을 대하는 나의 마음가짐은 정말 최악이었다. 비교적 여유로운 기간이 더욱 나태하게 만들었다. 또한 미션이 마무리되고 방학이 진행되었기 때문에 의욕은 점점 떨어져 갔다.</p> <p>이것들은 결국 다 핑계일 뿐이다. 단지 크루들과 술을 마시며 노는 것이 더욱 즐거웠기에 미션을 등한시 했다. 결과적으로 퀄리티 떨어지는 질문을 남길 수 밖에 없었고 많은 실패를 경험하지 못했다. 즉 레벨 1에서만 얻을 수 있는 많은 인사이트들을 놓치고 지나가게 된 것이다.</p> <p>다가오는 레벨 2를 이번 미션 처럼 보낼 수 없다. 미션을 진행하며 느꼈던 감정을 들을 까먹지 않고 온전히 받아들이고 반성하며 부끄러워하자.</p> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p><a href="https://tecoble.techcourse.co.kr/post/2020-09-19-what-is-test-double/" target="_blank" rel="noopener noreferrer">Test Double을 알아보자<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div><a href="/﹟hash-tag/#우아한테크코스">
    #우아한테크코스 
  </a><a href="/﹟hash-tag/#미션">
    #미션 
  </a></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">last updated:</span> <span class="time">4/25/2022, 4:40:09 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/woowacourse/level-1-mission/07-java-chess-step1.html" class="prev">
        07. 1, 2, 3단계 - 체스
      </a></span> <span class="next"><a href="/woowacourse/level-1-mission/09-level-interview.html">
        09. level interview
      </a>
      →
    </span></p></div> <div></div></main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bebab83a.js" defer></script><script src="/assets/js/29.dea8b5c1.js" defer></script><script src="/assets/js/2.310b603e.js" defer></script><script src="/assets/js/270.d8edcbd1.js" defer></script><script src="/assets/js/33.2738bbe3.js" defer></script><script src="/assets/js/35.ee6b29fa.js" defer></script>
  </body>
</html>
