---
title: 누적합 (Prefix Sum, Cumulative Sum)
tags: ['algorithm', '누적합']
---

# 누적합 (Prefix Sum, Cumulative Sum)

## 누적합이란?

누적합이란, 나열된 수의 누적된 합을 의미한다. 

|An|0|1|2|3|4|5|6|7|
|---|---|---|---|---|---|---|---|---|
|누적합|0|1|3|6|10|15|21|28|

배열 A의 누적합은 위의 표와 같이 표기할 수 있다.

## 구간합

이러한 누적합은 배열의 특정 구간의 합을 구할 수 있다. 

1. `m개의 구간합`을 구하기 위해 `단순 반복문`을 사용할 경우 시간 복잡도는 `O(N^2)`으로 표현된다.
```java
public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);

    int n = scanner.nextInt(); // 배열의 개수
    int m = scanner.nextInt(); // 합을 구해야 하는 횟수

    int[] array = new int[n + 1];
    for (int i = 1; i <= n; i++) {
        array[i] = array[i - 1] + scanner.nextInt();
    }

    while (m-- > 0) {
        int a = scanner.nextInt();
        int b = scanner.nextInt();

        int sum = 0;
        for (int i = a; i <= b; i++) {
            sum += array[i];
        }

        System.out.println(sum);
    }
}
```

2. `m개의 구간합`을 구하기 위해 `누적합`을 사용할 경우 시간 복잡도는 `O(N)`으로 표현된다.
```java
public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);

    int n = scanner.nextInt(); // 배열의 개수
    int m = scanner.nextInt(); // 합을 구해야 하는 횟수

    int[] array = new int[n + 1];
    for (int i = 1; i <= n; i++) {
        array[i] = array[i - 1] + scanner.nextInt();
    }

    while (m-- > 0) {
        int a = scanner.nextInt();
        int b = scanner.nextInt();

        System.out.println(array[b] - array[a - 1]);
    }
}
```

## 누적합 정리

누적합은 아래와 같이 정리가 가능하다.

```
배열 A의 1번째 요소 부터 n번째 요소까지의 누적합은 S(n)으로 표현한다.
S(1) = a(1)
S(i) = S(i - 1) + a(i)
a(i) + a(i + 1) + ... + a(j - 2) + a(j - 1) = S(j) - S(i - 1)
```

<TagLinks />