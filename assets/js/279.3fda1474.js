(window.webpackJsonp=window.webpackJsonp||[]).push([[279],{764:function(t,s,a){"use strict";a.r(s);var n=a(21),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_08-2á„ƒá…¡á†«á„€á…¨-á„Œá…¡á†¼á„‡á…¡á„€á…®á„‚á…µ-á„Œá…®á„†á…®á†«-api-á„‡á…§á†«á„€á…§á†¼á„’á…¡á„€á…µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-2á„ƒá…¡á†«á„€á…¨-á„Œá…¡á†¼á„‡á…¡á„€á…®á„‚á…µ-á„Œá…®á„†á…®á†«-api-á„‡á…§á†«á„€á…§á†¼á„’á…¡á„€á…µ"}},[t._v("#")]),t._v(" 08. 2ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ API ë³€ê²½í•˜ê¸°")]),t._v(" "),a("CenterImage",{attrs:{"image-src":"https://user-images.githubusercontent.com/59357153/152970395-a31c8134-fc89-449f-b4dc-441e03df929c.png"}}),t._v(" "),a("h2",{attrs:{id:"á„†á…©á†¨á„‘á…­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„†á…©á†¨á„‘á…­"}},[t._v("#")]),t._v(" ëª©í‘œ")]),t._v(" "),a("p",[t._v("ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì—ì„œ ì§„í–‰í•œ ë¯¸ì…˜ì˜ ë¦¬ë·°ì™€ í”¼ë“œë°±ì— ëŒ€í•´ ì •ë¦¬í•œë‹¤. ì‹¤ì œ ë¦¬ë·°ëŠ” "),a("a",{attrs:{href:"https://github.com/woowacourse/jwp-shopping-cart/pull/93",target:"_blank",rel:"noopener noreferrer"}},[t._v("[Spring ì¥ë°”êµ¬ë‹ˆ - 2ë‹¨ê³„] ë§¤íŠ¸(ìµœê¸°í˜„) ë¯¸ì…˜ ì œì¶œí•©ë‹ˆë‹¤."),a("OutboundLink")],1),t._v("ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"_08-2á„ƒá…¡á†«á„€á…¨-á„Œá…¡á†¼á„‡á…¡á„€á…®á„‚á…µ-á„Œá…®á„†á…®á†«-api-á„‡á…§á†«á„€á…§á†¼á„’á…¡á„€á…µ-á„’á…ªá†¨á„‹á…µá†«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-2á„ƒá…¡á†«á„€á…¨-á„Œá…¡á†¼á„‡á…¡á„€á…®á„‚á…µ-á„Œá…®á„†á…®á†«-api-á„‡á…§á†«á„€á…§á†¼á„’á…¡á„€á…µ-á„’á…ªá†¨á„‹á…µá†«"}},[t._v("#")]),t._v(" 08. 2ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ API ë³€ê²½í•˜ê¸° í™•ì¸")]),t._v(" "),a("p",[t._v("ë“œë””ì–´ ë ˆë²¨ 2ì˜ ëª¨ë“  ë¯¸ì…˜ì´ ë§ˆë¬´ë¦¬ ë˜ì—ˆë‹¤. ìš°í…Œì½”ì—ì„œ ë ˆë²¨ 2ì—ì„œ ê°€ì ¸ê°ˆ ê³µí†µì ì¸ ëª©í‘œëŠ” ì•„ë˜ì™€ ê°™ë‹¤.")]),t._v(" "),a("ul",[a("li",[t._v("Spring Frameworkë¥¼ ì´ìš©í•´ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•œë‹¤.")]),t._v(" "),a("li",[t._v("í•™ìŠµ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ ìƒˆë¡œìš´ ê¸°ìˆ ì„ ìµíˆê³  ë¯¸ì…˜ì— ì ìš©í•œë‹¤.")]),t._v(" "),a("li",[t._v("í´ë¼ìš°ë“œ í™˜ê²½ì— ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•˜ê³  ìš´ì˜í•œë‹¤.")]),t._v(" "),a("li",[t._v("ìƒˆë¡œìš´ ê¸°ìˆ ì„ ìµíˆëŠ” ë³¸ì¸ë§Œì˜ í•™ìŠµ ë°©ë²•ì„ ì°¾ëŠ”ë‹¤.")])]),t._v(" "),a("p",[t._v("ê·¸ ì¤‘ ë‚´ê°€ ê°€ì¥ ë§ì´ ì§‘ì¤‘í•œ ê²ƒì€ ì–´ë–¤ ê¸°ìˆ ì— ëŒ€í•´ "),a("code",[t._v("ì™œ ì‚¬ìš©í•´ì•¼ í•˜ë©° ì–´ë– í•œ ê·¼ê±°ë¡œ ë„ì…ì´ ë˜ì—ˆëŠ”ì§€ ê³ ë¯¼")]),t._v("í•˜ëŠ” ê²ƒì´ë‹¤. ì˜ì‹ì ì¸ ì—°ìŠµì´ë‚˜ ë‹¤ë¥¸ í¬ë£¨ë“¤ê³¼ì˜ ëŠì„ì—†ëŠ” ëŒ€í™”ë¥¼ í†µí•´ ì´ì „ì— í˜¼ì í•™ìŠµí•˜ë˜ ìŠµê´€ë“¤ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë…¸ë ¥í•˜ì˜€ë‹¤. ë•ë¶„ì— í˜¼ì í•´ë‹µì„ ì°¾ê¸° ìœ„í•´ ë°œë²„ë‘¥ ì¹˜ë©° ë†“ì³¤ë˜ ì§€ì‹ë“¤ ì‚¬ì´ì— ì˜¨ì „í•œ ë‚˜ë§Œì˜ ê·¼ê±°ë¥¼ ì±„ì›Œê°ˆ ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ë˜ì—ˆë‹¤.")]),t._v(" "),a("p",[t._v("ë‹¤ì‹œ ëŒì•„ê°€ ìœ„ ê³µí†µ ëª©í‘œë¥¼ ì‚´í´ë³´ë©´ ì•½ê°„ì´ì§€ë§Œ ëŒ€ë¶€ë¶„ ë‹¬ì„±í–ˆë‹¤ê³  ìƒê°í•œë‹¤. ë‹¤ë§Œ ì´ë¯¸ ì•„ëŠ” ê¸°ìˆ ì— ëŒ€í•´ ë” ë§ì€ ì˜ë¬¸ì„ í’ˆì§€ ëª»í•œ ê²ƒì´ ì•„ì‰¬ì›€ìœ¼ë¡œ ë‹¤ê°€ì˜¨ë‹¤. ì•„ë¬´ë˜ë„ Springì— ëŒ€í•œ í•™ìŠµ ê²½í—˜ì´ ìˆì—ˆê¸° ë•Œë¬¸ì— ë¯¸ì…˜ì„ ì§„í–‰í•˜ëŠ”ë° ë¬´ë¦¬ê°€ ì—†ì—ˆì§€ë§Œ ë”± ì‚¬ìš©í•˜ëŠ”ë° ê·¸ì³¤ë‹¤. ê²°êµ­ í•´ë‹¹ ê¸°ìˆ ì— ëŒ€í•´ ë™ì‘ ë°©ì‹ê¹Œì§€ëŠ” ê³ ë ¤í•˜ì§€ ëª»í•˜ì—¬ ë°˜ìª½ ì§œë¦¬ ì§€ì‹ì„ ë§Œë“¤ì—ˆë‹¤ëŠ” ìƒê°ì´ ë“¤ê¸°ë„ í•œë‹¤. ì´ì œ ë‚¨ì€ ê¸°ê°„ ë™ì•ˆ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì¸ì§€í•˜ê³  ì˜¨ì „í•œ ì§€ì‹ìœ¼ë¡œ ë§Œë“¤ê¸° ìœ„í•œ ì‹œê°„ìœ¼ë¡œ í™œìš©í•´ì•¼ ê² ë‹¤.")]),t._v(" "),a("p",[t._v("ì•„ë˜ëŠ” ë ˆë²¨ 2 ë§ˆì§€ë§‰ ë¯¸ì…˜ì„ ì§„í–‰í•˜ë©° ë¦¬ë·°ì–´ì™€ ì£¼ê³  ë°›ì€ ëŒ€í™”ë“¤ê³¼ ëŠë‚€ ê²ƒë“¤ì„ ì •ë¦¬í•œ ê²ƒì´ë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"presentation-layer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#presentation-layer"}},[t._v("#")]),t._v(" Presentation Layer")]),t._v(" "),a("p",[a("code",[t._v("Presentation Layer")]),t._v("ëŠ” ì‚¬ìš©ìì˜ ìš”ì²­ê³¼ ì‘ë‹µì— ëŒ€í•œ ì²˜ë¦¬ë¥¼ ì§„í–‰í•œë‹¤. ì£¼ë¡œ Controller ë° Viewë¡œ êµ¬ì„±ë˜ë©° ì‚¬ìš©ìì™€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‚¬ì´ì˜ ìƒí˜¸ì‘ìš©ì˜ ìœ„í•´ ì•ë‹¨ì— ìœ„ì¹˜í•˜ê²Œ ëœë‹¤. ì´ëŸ¬í•œ presentation layerì˜ ì—­í• ë¡œ ì•„ë˜ì™€ ê°™ì´ ê°„ëµí•˜ê²Œ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.")]),t._v(" "),a("ul",[a("li",[t._v("ì‚¬ìš©ìì˜ ìš”ì²­ì„ ë³€í™˜í•œë‹¤.")]),t._v(" "),a("li",[t._v("ìš”ì²­ ë‚´ìš©ì— ëŒ€í•œ ê²€ì¦ì„ ì§„í–‰í•œë‹¤.")]),t._v(" "),a("li",[t._v("ìˆ˜í–‰ ê²°ê³¼ë¥¼ ì‚¬ìš©ìì—ê²Œ ë°˜í™˜í•œë‹¤.")])]),t._v(" "),a("p",[t._v("ì´ì „ ë¯¸ì…˜ì—ì„œ "),a("code",[t._v("Presentation Layer")]),t._v("ì—ì„œ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í•´ê²°í•˜ê¸° ìœ„í•œ "),a("code",[t._v("Service layer")]),t._v("ë¥¼ ì˜ì¡´í•˜ê³  ìˆëŠ” í˜•íƒœë¡œ êµ¬ì„±í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ ì´ì „ì— ê³µí†µì ì¸ í† í°ì˜ ì¸ì¦ ë° ì¸ê°€ë¥¼ ìœ„í•´ "),a("code",[t._v("ArgumentResolver")]),t._v("ë¥¼ ë“±ë¡í•œ ë’¤ í™œìš©í•˜ì˜€ë‹¤. ê²°êµ­ ì´ëŸ¬í•œ ArgumentResolverë¥¼ Presentation Layerë¡œ ë´ë„ ë˜ëŠ”ê°€ì— ëŒ€í•œ ì˜ë¬¸ì„ ê°€ì§€ê³  ìˆì—ˆë‹¤. ê²°êµ­ ì´ëŸ¬í•œ "),a("code",[t._v("ArgumentResolver")]),t._v("ì˜ ëª©ì ì€ "),a("code",[t._v("parameterê°€ ì›í•˜ëŠ” í˜•íƒœì˜ ê°ì²´ë¡œ ë°”ì¸ë”©")]),t._v("í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ í˜¸ì¶œ ì´ì „ì— í™œìš©ë˜ë©° ì¢…ì†ì ì¸ ê°œë…ìœ¼ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— Presentation Layerì— ê°€ê¹ë‹¤ê³  ì •ë¦¬í•˜ì˜€ë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"corsá„‹á…´-preflight"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#corsá„‹á…´-preflight"}},[t._v("#")]),t._v(" CORSì˜ preflight")]),t._v(" "),a("p",[t._v("í”„ë¡ íŠ¸ì™€ APIê°€ ì ì ˆí•œì§€ í…ŒìŠ¤íŠ¸í•˜ë˜ ì¤‘ cors ê´€ë ¨ ì—ëŸ¬ë¥¼ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆë‹¤. ë¶„ëª… WebConfigì— ê´€ë ¨ ì„¤ì •ì„ ì¶”ê°€í•´ë‘ì—ˆì§€ë§Œ ì–´ì§¸ì„œì¸ì§€ Options ë©”ì„œë“œë¥¼ í†µí•œ "),a("code",[t._v("preflight ìš”ì²­")]),t._v("ì—ì„œ "),a("code",[t._v("Authorization í—¤ë”")]),t._v("ì˜ ë¶€ì¬ë¡œ "),a("code",[t._v("401")]),t._v(" ì˜ˆì™¸ë¥¼ ë§ˆì£¼í•˜ê²Œ ë˜ì—ˆë‹¤. ê²°êµ­ Interceptorì—ì„œ "),a("code",[t._v("Option ë©”ì„œë“œ")]),t._v("ê°€ ì˜¬ ê²½ìš° ì•„ë˜ ë¡œì§ì„ ë¬´ì‹œí•  ìˆ˜ ìˆë„ë¡ ì‘ì„±í–ˆì§€ë§Œ ì•½ê°„ì˜ ì°ì°í•œ ë¶€ë¶„ì´ ìˆë‹¤.")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthenticationInterceptor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HandlerInterceptor")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("boolean")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("preHandle")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),t._v(" handler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OPTIONS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("matches")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" accessToken "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AuthorizationExtractor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("extract")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        jwtTokenProvider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("validateToken")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" payload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" jwtTokenProvider"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPayload")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("accessToken"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ATTRIBUTE_PAYLOAD_KEY"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ê²°êµ­ "),a("code",[t._v("preflight")]),t._v("ë¥¼ ë³´ë‚´ëŠ” ì´ìœ ê°€ ì´ëŸ¬í•œ ì˜ˆë¹„ ìš”ì²­ì„ í†µí•´ í•´ë‹¹ ìš”ì²­ì´ ì•ˆì „í•œì§€ í™•ì¸í•˜ëŠ” ìš©ë„ë¡œ ì•Œê³  ìˆë‹¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ ìš”ì²­ì„ ë¬´ì¡°ê±´ì ìœ¼ë¡œ "),a("code",[t._v("true")]),t._v("ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì ì ˆí•œì§€ ê¶ê¸ˆì¦ì´ ìƒê²¨ ì§ˆë¬¸ì„ ë‚¨ê²¼ë‹¤.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ë¦¬ë·° ì¤‘ ì¼ë¶€")]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ì´ëŸ¬í•œ ìš”ì²­ì„ ë¬´ì¡°ê±´ì ìœ¼ë¡œ true ì²˜ë¦¬í•˜ëŠ” ê²ƒì´ ì ì ˆí•œì§€, "),a("code",[t._v("ë¦¬ë·°ì–´ë‹˜")]),t._v("ì€ ë™ì¼í•œ ìƒí™©ì—ì„œ ì–´ë– í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ”ì§€ ê¶ê¸ˆí•©ë‹ˆë‹¤!")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": cors ê´€ë ¨í•´ì„œ ì§ˆë¬¸ì£¼ì‹ ê²Œ ìˆë„¤ìš”. ì‚¬ì „ ìš”ì²­ì— ëŒ€í•´ì„œ ë¬´ì¡°ê±´ trueë¥¼ ì£¼ëŠ”ê²Œ ì ì ˆí•œì§€ë¥¼ ì§ˆë¬¸ì£¼ì…¨ëŠ”ë°ìš”. ì–´ì©”ìˆ˜ ì—†ì´ Interceptor ë¡œì§ì´ íƒœì›Œì§€ê¸° ë•Œë¬¸ì— OPTIONSì— ëŒ€í•´ì„œëŠ” trueë¥¼ ë°˜í™˜í•˜ë„ë¡ í•´ì•¼í•˜ì§€ ì•Šë‚˜ ì‹¶ë„¤ìš”..")]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ë³„ ë‹¤ë¥¸ ë°©ë²•ì´ ì—†ëŠ” ê²ƒ ê°™ë„¤ìš” ã…œã…  ê·¸ë ‡ë‹¤ë©´ ì„œë¸”ë¦¿ ì´ì „ì— ê±°ì³ê°€ëŠ” filterì—ì„œ CorsFilterë¥¼ ë“±ë¡í•˜ëŠ” ë°©ì‹ì€ ì–´ë–»ê²Œ ìƒê°í•˜ì‹œë‚˜ìš”?? ì¸í„°ì…‰í„°ë¥¼ ê±°ì¹˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¡œì§ ìƒ ë”ìš± ì í•©í•˜ë‹¤ê³  ëŠê»´ì§€ëŠ”ë° ì´ì— ëŒ€í•´ ì² ì‹œì— ëŒ€í•œ ì˜ê²¬ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤!!")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": CorsFilterë¥¼ ë“±ë¡í•˜ë”ë¼ë„ Filter -> Interceptor -> í•¸ë“¤ëŸ¬ ë©”ì„œë“œ -> Interceptor -> Filter ìˆœìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ì¸í„°ì…‰í„°ë¥¼ ê±°ì¹˜ì§€ ì•Šë„ë¡ ë§Œë“ ë‹¤ëŠ” ë°©ë²•ì´ ì˜ ì´í•´ê°€ ê°€ì§€ ì•Šë„¤ìš” ã…  í•„í„° êµ¬í˜„ì— ëŒ€í•´ ìƒê°í•˜ì‹ ê²Œ ìˆëŠ”ê±¸ê¹Œìš”?")]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ì•„ë˜ì™€ ê°™ì´ preflight request ì²˜ë¦¬ë¥¼ ìœ„í•œ í—¤ë”(Access-Control-Allow-Origin, Access-Control-Allow-Methods)ë¥¼ ì„¸íŒ…í•œ ë’¤ filter ì²´ì´ë‹ì„ ì§„í–‰í•˜ì§€ ì•Šê³  200 ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•˜ëŠ” í˜•ì‹ì„ ìƒê°í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤!")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Component")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Order")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Ordered")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("HIGHEST_PRECEDENCE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CorsFilter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Filter")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Override")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletRequest")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletResponse")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("FilterChain")]),t._v(" chain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("throws")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("IOException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ServletException")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),t._v(" request "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),t._v(" response "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Allow-Origin"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"*"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Allow-Methods"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"GET, POST, PUT, DELETE, OPTIONS"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Max-Age"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"3600"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Allow-Headers"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"authorization, content-type, xsrf-token"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Access-Control-Expose-Headers"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xsrf-token"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"OPTIONS"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("equalsIgnoreCase")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getMethod")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStatus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HttpServletResponse")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SC_OK"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        \n        chain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("doFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("ì„œë¸”ë¦¿ ì•ë‹¨ì— í•´ë‹¹ í•„í„°ë¥¼ ë“±ë¡í•œ ë’¤ preflight request ìš”ì²­ì´ ì˜¤ê²Œ ë˜ë©´ http ë©”ì„œë“œë¥¼ í™•ì¸í•˜ì—¬ ì„œë¸”ë¦¿ ë° ì¸í„°ì…‰í„°ë¥¼ íƒ€ì§€ ì•Šë„ë¡ ê³ ë¯¼í•˜ê³  ìˆìŠµë‹ˆë‹¤! ê²°êµ­ Corsì˜ preflight ê´€ë ¨ ì²˜ë¦¬ë¥¼ CorsFilterì—ì„œ ëª¨ë‘ ì²˜ë¦¬í•˜ê²Œ ë˜ì–´ ì±…ì„ì„ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤!")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": ìŒ ê²°êµ­ ëª¨ë“  ë„ë©”ì¸ê³¼ urlì— ëŒ€í•´ì„œ ì‚¬ì „ ìš”ì²­ OPTIONSì— ëŒ€í•´ì„œëŠ” ìš”ì²­ì„ í—ˆìš©í•œë‹¤ëŠ” ì˜ë¯¸ì¸ê°€ë³´ë„¤ìš”. ë³´ì•ˆì ì¸ ì¸¡ë©´ì—ì„œëŠ” í—ˆìš©í•´ì•¼í•  ë¶€ë¶„ë§Œ ì—´ì–´ì£¼ëŠ”ê²Œ ì œì¼ ë² ìŠ¤íŠ¸ë¼ê³ ëŠ” ìƒê°í•˜ëŠ”ë°ìš”. ê·¸ë ‡ë‹¤ë©´ ì§€ê¸ˆ í˜„ì¬ ë°©ì‹ì´ ë” ë‚«ì§€ ì•Šì„ê¹Œ ìƒê°ì´ ë“¤ê¸°ë„ í•˜ë„¤ìš” ã…ã…...")])]),t._v(" "),a("p",[t._v("ë¦¬ë·°ì–´ë‹˜ì€ ê²°êµ­ ì¸ì¦ì´ í•„ìš”í•œ ë¶€ë¶„ì—ì„œë§Œ í•´ë‹¹ ìš”ì²­ì„ ì—´ì–´ì£¼ëŠ” ê²ƒì´ ì¢‹ë‹¤ê³  ë‚¨ê²¨ì£¼ì—ˆë‹¤. CorsFilterë¥¼ ì¶”ê°€í•˜ê²Œ ë˜ë©´ ê²°êµ­ ê´€ë¦¬í•´ì•¼ í•  í¬ì¸íŠ¸ê°€ ëŠ˜ì–´ë‚˜ê²Œ ë˜ë©° í—ˆìš©í•˜ëŠ” "),a("code",[t._v("origin")]),t._v("ê³¼ "),a("code",[t._v("http method")]),t._v("ê°€ ë³€ê²½ë  ê²½ìš° ì§ì ‘ì ì¸ ìˆ˜ì •ì„ í†µí•´ ê´€ë ¨ ì²˜ë¦¬ë¥¼ ì§„í–‰í•´ì•¼ í•œë‹¤.")]),t._v(" "),a("p",[t._v("ê²°êµ­ "),a("code",[t._v("CorsFilter")]),t._v("ë¥¼ ë„ì…í•˜ì§€ ì•Šì•˜ì§€ë§Œ "),a("code",[t._v("preflight")]),t._v("ì™€ í•´ê²° ë°©ë²•ì— ëŒ€í•´ ê³µë¶€í•  ìˆ˜ ìˆëŠ” ì‹œê°„ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆì—ˆë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"á„€á…¢á†¨á„á…¦-á„‹á…´á„Œá…©á†«á„‹á…³á†¯-á„‹á…±á„’á…¡á†«-á„‡á…©á†¨á„Œá…¡á†¸á„’á…¡á†«-sqlá„†á…®á†«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„€á…¢á†¨á„á…¦-á„‹á…´á„Œá…©á†«á„‹á…³á†¯-á„‹á…±á„’á…¡á†«-á„‡á…©á†¨á„Œá…¡á†¸á„’á…¡á†«-sqlá„†á…®á†«"}},[t._v("#")]),t._v(" ê°ì²´ ì˜ì¡´ì„ ìœ„í•œ ë³µì¡í•œ sqlë¬¸")]),t._v(" "),a("p",[t._v("ê¸°ì¡´ì— ë„ë©”ì¸ ê°ì²´ë“¤ì€ ì˜ì¡´í•˜ëŠ” ê°ì²´ì˜ ì‹ë³„ìì¸ idë§Œì„ ê°€ì§€ê³  ìˆì—ˆë‹¤. ë³´ë‹¤ ë” ë‚˜ì€ ê°ì²´ì§€í–¥ì ì¸ ì½”ë“œ ì‘ì„±ì„ ìœ„í•´ ê° ë„ë©”ì¸ ê°ì²´ê°€ ì˜ì¡´í•˜ëŠ” ê°ì²´ ìì²´ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ ê°œì„ í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ ìµœì´ˆì— ëª¨ë“  ê°ì²´ë¥¼ ì˜¨ì „í•œ ìƒíƒœë¡œ ì„¸íŒ…í•˜ê¸° ìœ„í•´ ë³µì¡í•œ sqlë¬¸ì„ ë™ë°˜í•˜ê²Œ ë˜ì—ˆë‹¤.")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Repository")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OrdersDetailDao")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("OrdersDetail")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("findByOrdersId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Long")]),t._v(" ordersId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("String")]),t._v(" sql "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SELECT od.id as id, od.quantity as quantity, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"o.id as orderId, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.id as customerId, c.username as customerUsername, c.email as customerEmail, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.password as customerPassword, c.address as customerAddress, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"c.phone_number as customerPhoneNumber, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.id as productId, p.name as productName, p.price as productPrice, "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"p.image_url as productImageUrl, p.description as productDescription, p.deleted as productDeleted "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FROM orders_detail od "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JOIN orders o ON od.orders_id = o.id "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JOIN product p ON od.product_id = p.id "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"JOIN customer c ON o.customer_id = c.id "')]),t._v("\n                "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"WHERE orders_id = :ordersId"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SqlParameterSource")]),t._v(" parameterSource "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("MapSqlParameterSource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ordersId"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ordersId"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" jdbcTemplate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" parameterSource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("generateOrderDetailMapper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("í˜„ì¬ ë„ë©”ì¸ì—ì„œëŠ” ê°ì²´ê°„ì˜ ì˜ì¡´ì˜ ê¹Šì´ê°€ ë‚®ì•„ì„œ êµ¬í˜„ì´ ê°€ëŠ¥í–ˆì§€ë§Œ ë§Œì•½ ê¹Šì´ê°€ ê¹Šì–´ì§ˆ ê²½ìš° sqlë¬¸ì€ ë”ìš± ë³µì¡í•´ì§ˆ ê²ƒìœ¼ë¡œ íŒë‹¨í•œë‹¤. ì´ê²ƒì„ ì‘ì„±í•˜ë©° ê°€ì¥ ê¶ê¸ˆí–ˆë˜ ê²ƒì€ ì˜¨ì „í•œ ê°ì²´ ìƒì„±ì„ ìœ„í•´ ìœ„ì™€ ê°™ì€ ë°©ë²•ì„ ì§„í–‰í•˜ëŠ” ê²ƒì´ ì ì ˆí•œì§€ì˜ ì—¬ë¶€ì´ë‹¤. ë§Œì•½ daoì™€ service ê³„ì¸µ ì‚¬ì´ ë„ë©”ì¸ ê°ì²´ ê´€ë¦¬ë¥¼ ìœ„í•œ repositoryë¥¼ ë‘ê²Œ ë˜ë©´ ë‹¨ì¼ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ì—¬ ì¡°í•©í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ íŒë‹¨í•œë‹¤. í•˜ì§€ë§Œ ì´ ë°©ë²•ì€ í•„ìš”í•œ ê°ê°ì˜ ì—”í‹°í‹°ë¥¼ ì¡°íšŒí•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ sqlë¬¸ì„ ì—¬ëŸ¬ë²ˆ í™œìš©í•´ì•¼ í•˜ëŠ” ë‹¨ì ì´ ìˆë‹¤.")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ë¦¬ë·° ì¤‘ ì¼ë¶€")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": ë³µì¡í•œ ì¿¼ë¦¬ë¬¸ì— ëŒ€í•´ì„œë„ ì§ˆë¬¸ì£¼ì…¨ëŠ”ë°ìš”. ì €ë„ ê°€ëŠ¥í•˜ë©´ í•œë°©ì¿¼ë¦¬ë¥¼ í†µí•´ì„œ ì¡°íšŒí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ë§ì´ ì‚¬ìš©í•˜ê¸°ëŠ” í•œê±° ê°™ì•„ìš”. ë‹¤ë§Œ, ë°˜ë“œì‹œ "),a("code",[t._v("EXPLAIN")]),t._v("ìœ¼ë¡œ í•´ë‹¹ ì¿¼ë¦¬ì˜ "),a("code",[t._v("ì‹¤í–‰ê³„íš")]),t._v("ì´ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ í™•ì¸ì´ í•„ìš”í•˜êµ¬ìš”. ì ì ˆí•œ ì¸ë±ìŠ¤ë¥¼ íƒ€ì§€ ì•Šì•„ ë¶€í•˜ê°€ ì‹¬í•˜ë‹¤ê³  ìƒê°ë˜ë©´ ê°ê° ë”°ë¡œ ì¡°íšŒí•´ì„œ ì¡°í•©í•´ì¤¬ë˜ê±° ê°™ë„¤ìš”.")]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ì•„ì§ DBì— ëŒ€í•œ ê°œë…ì´ ë¶€ì¡±í•˜ì—¬ ì£¼ì‹  ë¦¬ë·°ë¥¼ ì™„ë²½í•˜ê²Œ ì´í•´ í•˜ì§„ ëª»í–ˆë„¤ìš” ğŸ¥² "),a("code",[t._v("EXPLAIN")]),t._v("ê³¼ "),a("code",[t._v("ì¸ë±ìŠ¤")]),t._v(" í‚¤ì›Œë“œë¥¼ í†µí•´ ê´€ë ¨ í•™ìŠµ ì§„í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤!!")])]),t._v(" "),a("p",[t._v("ë¦¬ë·°ì–´ì™€ì˜ ëŒ€í™”ë¥¼ í†µí•´ DB ìµœì í™”ë¥¼ ìœ„í•œ "),a("code",[t._v("EXPLAIN")]),t._v("ê³¼ "),a("code",[t._v("ì¸ë±ìŠ¤")]),t._v("ì— ëŒ€í•œ í‚¤ì›Œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤. ë°©í•™ ê¸°ê°„ ë™ì•ˆ Real MySQLì„ ê¸°ë°˜ìœ¼ë¡œ ìŠ¤í„°ë””ë¥¼ ì§„í–‰í•˜ëŠ”ë° ì´ê²ƒì´ í•´ë‹¹ í‚¤ì›Œë“œë¥¼ ì´í•´í•˜ëŠ”ë° ì¢‹ì€ í•´ë‹µì´ ë˜ì§€ ì•Šì„ê¹Œ ìƒê°ëœë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"á„á…©á„á…³á†«-á„€á…¥á†·á„Œá…³á†¼-á„†á…µá†¾-á„€á…¢á†¨á„á…¦-á„‡á…¡á„‹á…µá†«á„ƒá…µá†¼-á„…á…©á„Œá…µá†¨-á„‡á…®á†«á„…á…µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#á„á…©á„á…³á†«-á„€á…¥á†·á„Œá…³á†¼-á„†á…µá†¾-á„€á…¢á†¨á„á…¦-á„‡á…¡á„‹á…µá†«á„ƒá…µá†¼-á„…á…©á„Œá…µá†¨-á„‡á…®á†«á„…á…µ"}},[t._v("#")]),t._v(" í† í° ê²€ì¦ ë° ê°ì²´ ë°”ì¸ë”© ë¡œì§ ë¶„ë¦¬")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("ë¦¬ë·° ì¤‘ ì¼ë¶€")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": ê¸°ì¡´ì—ëŠ” "),a("code",[t._v("AuthenticationPrincipalArgumentResolver")]),t._v("ì—ì„œ "),a("code",[t._v("í† í° ê²€ì¦ ë° ì „ë‹¬")]),t._v("ê¹Œì§€ í•´ì¤¬ë˜ê±¸ë¡œ ë³´ì´ëŠ”ë°ìš”. "),a("code",[t._v("AuthenticationInterceptor")]),t._v("ì™€ "),a("code",[t._v("AuthenticationPrincipalArgumentResolver")]),t._v("ë¡œ ë‚˜ëˆ ì§„ê²ƒ ê°™ë„¤ìš”. ìœ„ì™€ ê°™ì´ ë‹¤ì‹œ êµ¬ì„±í•˜ì‹  ì´ìœ ê°€ ìˆì„ê¹Œìš”?")]),t._v(" "),a("p",[t._v('ì¶”ê°€ë¡œ ì¸í„°ì…‰í„°ì—ì„œ í† í° ê²€ì¦ì„ í•´ì„œ attributeë¡œ ë„˜ê¸°ê¸°ë•Œë¬¸ì— ì—¬ê¸°ì„œëŠ” getAttributeë¡œ ì„¸íŒ…í•˜ëŠ” ë¶€ë¶„ë§Œ ë‚¨ì€ê±¸ë¡œ ë³´ì´ëŠ”ë°ìš”. ë§Œì•½ getAttribute("payload")ì— ê°’ì´ ì—†ëŠ” ê²½ìš°ëŠ” ì–´ë–»ê²Œ ë˜ë‚˜ìš”?')]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ArgumentResolverì˜ ì‚¬ìš© ëª©ì ì— ëŒ€í•´ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‚˜ë‹¤. ê·¸ëŸ¬ë˜ ì¤‘ ArgumentResolverì„ ë§Œë“¤ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” HandlerMethodArgumentResolverì˜ ì„¤ëª…ì„ í™•ì¸í•˜ì˜€ìŠµë‹ˆë‹¤.")]),t._v(" "),a("blockquote",[a("p",[t._v("Strategy interface for resolving method parameters into argument values in the context of a given.")])]),t._v(" "),a("p",[t._v("Springì—ì„œëŠ” ArgumentResolverë¥¼ í•˜ë‚˜ì˜ ì „ëµ ì¸í„°í˜ì´ìŠ¤ë¡œ ì¸ì‹í•˜ê³  ìˆìœ¼ë©° ëª©ì ì€ parameterê°€ ì›í•˜ëŠ” í˜•íƒœì˜ ê°ì²´ë¡œ ë°”ì¸ë”©í•˜ëŠ” ê²ƒì´ë¼ ìƒê°í•©ë‹ˆë‹¤. ì´ëŸ¬í•œ ê·¼ê±°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¸ì¦ ë° ì¸ê°€ì— ëŒ€í•œ ë¡œì§ë“¤ì„ ëª¨ë‘ interceptorë¡œ ì´ë™í•˜ì˜€ìŠµë‹ˆë‹¤!")]),t._v(" "),a("p",[t._v("ë˜í•œ ê´€ë ¨ attributeë¥¼ ëˆ„ë½í•œ ì´ìœ ëŠ” í•´ë‹¹ "),a("code",[t._v("AuthenticationPrincipleArgumentResolver")]),t._v("ëŠ” í•­ìƒ interceptorë¥¼ ê±°ì¹  ë•Œë§Œ ì‚¬ìš©í•´ì„œ ê´€ë ¨ ê²€ì¦ì„ ëˆ„ë½ì‹œì¼°ìŠµë‹ˆë‹¤! ì² ì‹œê°€ ì–¸ê¸‰í•˜ì‹  ê²ƒ ì²˜ëŸ¼ ë§Œì•½ interceptorë¥¼ ê±°ì¹˜ì§€ ì•Šê³  argumentë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ê´€ë ¨ atrributeê°€ ì¡´ì¬í•˜ì§€ ì•Šê²Œ ë˜ë¯€ë¡œ ê´€ë ¨ ì²˜ë¦¬ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤!")]),t._v(" "),a("p",[a("code",[t._v("ë¦¬ë·°ì–´")]),t._v(": í˜„ì¬ëŠ” Interceptorë¡œ ê²€ì¦í•˜ëŠ” ê³³ê³¼ AuthenticationPrincipleArgumentResolverê°€ ì‚¬ìš©ë˜ëŠ” ê³³ì´ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œê°€ ì—†ì§€ë§Œ ë§Œì•½ ì¶”í›„ì— ê¸°ëŠ¥ì´ ì¶”ê°€ëœë‹¤ê³  ê°€ì •í–ˆì„ë•Œ ë‘ ì‚¬ìš©í•˜ëŠ” ê³³ì´ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆì–´ì„œ ì§ˆë¬¸ë“œë¦°ê±°ì´ê¸´í•´ìš”. Interceptorì˜ ì‚¬ìš©ì²˜ì™€ AuthenticationPrincipleArgumentResolverì˜ ì‚¬ìš©ì²˜ë¥¼ ê°™ê²Œ ë§Œë“œëŠ” ê²ƒì€ ì‚¬ëŒ(ê°œë°œì)ì´ í•˜ê²Œë˜ëŠ” ê²ƒì´ë‹ˆ íœ´ë¨¼ì—ëŸ¬ì˜ ì—¬ì§€ë„ ìˆì–´ì„œìš”.")]),t._v(" "),a("p",[t._v("ê°’ì„ ë°”ì¸ë”©í•œë‹¤ëŠ” ê²ƒì— ì´ˆì ì„ ë§ì¶”ì‹ ê±¸ë¡œ ë³´ì´ëŠ”ë° AuthenticationPrincipleArgumentResolverì—ì„œë„ Authorization í—¤ë”ë¥¼ ê°€ì§€ê³  ë°”ì¸ë”©ì´ ê°€ëŠ¥í•œë§Œí¼ AuthenticationPrincipleArgumentResolverì´ ê²€ì¦ë¶€ë¶„ì„ ê°€ì ¸ê°€ë„ ê´œì°®ì§€ ì•Šì„ê¹Œ ì˜ê²¬ë“œë ¤ìš”.")]),t._v(" "),a("p",[a("code",[t._v("ë§¤íŠ¸")]),t._v(": ë¦¬ë·°ì–´ë‹˜ì˜ ì˜ê²¬ì—ë„ ë™ì˜í•©ë‹ˆë‹¤! ì–¸ê¸‰í•´ì£¼ì‹  ê²ƒì— ë” ë‚˜ì•„ê°€ Tokenì— ëŒ€í•œ ê²€ì¦ì€ í•„ìš”í•˜ì§€ë§Œ LoginCustomerê°€ í•„ìš”í•˜ì§€ ì•Šì€ í•¸ë“¤ëŸ¬ê°€ ì¡´ì¬í•  ë•Œë¥¼ ê³ ë¯¼í•´ë³´ì•˜ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ë“¤ë©´ adminê³¼ ê´€ë ¨ëœ Roleì´ ì¶”ê°€ë˜ì–´ idë¼ëŠ” ì‹ë³„ìë¥¼ ê¸°ë°˜ìœ¼ë¡œ URL(ex. /api/customers/1)ì— ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ì´ë•Œ LoginCustomerëŠ” ì‚¬ìš©ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— AuthenticationPrincipleArgumentResolverì˜ ê²€ì¦ ë¡œì§ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìœ¼ë©° ê²°êµ­ ì¶”ê°€ì ì¸ Interceptorë¥¼ í†µí•´ ì²˜ë¦¬í•´ì•¼ í•˜ë¯€ë¡œ ì¤‘ë³µëœ ì½”ë“œë¥¼ ì•¼ê¸°í•˜ê²Œ ëœë‹¤ê³  ìƒê°í•˜ì—¬ í˜„ì¬ ì‘ì„±í•œ ì½”ë“œê°€ ì¢€ ë” í™•ì¥ì— ìœ ì—°í•  ìˆ˜ ìˆë‹¤ê³  íŒë‹¨í•©ë‹ˆë‹¤!")])]),t._v(" "),a("p",[t._v("ê²€ì¦í•˜ê¸° ìœ„í•œ ìœ„ì¹˜ì— ëŒ€í•œ ê³ ë¯¼ì´ ë§ì•˜ëŠ”ë° ë¦¬ë·°ì–´ì™€ì˜ ëŒ€í™”ë¥¼ í†µí•´ ì–´ë– í•œ ìƒí™©ì—ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë ì§€ ì¡°ê¸ˆì€ ë¨¸ë¦¿ì†ì— ê·¸ë ¤ì§ˆ ìˆ˜ ìˆì—ˆë‹¤. ê²°êµ­ ArgumentResolverë¥¼ ì‚¬ìš©í•˜ëŠ” ê³³ì—ì„œ ëª¨ë‘ ê²€ì¦ì´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì— ì¶”ê°€ì ì¸ Interceptorë¥¼ í™œìš©í•˜ëŠ” ê²ƒì€ ê´€ë¦¬í•  í¬ì¸íŠ¸ë§Œ ëŠ˜ì–´ë‚  ìˆ˜ ìˆë‹¤.")]),t._v(" "),a("p",[t._v("í•˜ì§€ë§Œ í™•ì¥ì— ìœ ì—°í•¨ê³¼ ê°ì²´ì˜ ì±…ì„ì´ ì ì ˆí•œì§€ì˜ ì…ì¥ì—ì„œ ë³´ë©´ ê°ê°ì˜ í´ë˜ìŠ¤ê°€ ìµœì†Œí•œì˜ ì—­í• ë§Œì„ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë³€í™”ì— ëŒ€ì‘í•˜ê¸° ìš©ì´í•˜ë‹¤ê³  íŒë‹¨í•œë‹¤. ê²°êµ­ ë‹¨ìˆœí•œ ì¸ì¦ ë¡œì§ë§Œ í•„ìš”í•œ ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.")]),t._v(" "),a("p",[t._v("ìœ„ì™€ ê°™ì€ ë¬¸ì œëŠ” ì •í•´ì§„ ì •ë‹µì´ ì—†ë‹¤ê³  íŒë‹¨í•œë‹¤. ë¦¬ë·°ì–´ì™€ ìœ ì˜ë¯¸í•œ ëŒ€í™”ë¥¼ í†µí•´ ë‹¤ë¥¸ ì‹œì„ ì—ì„œ ê°™ì€ ë¬¸ì œë¥¼ ë” ê³ ë¯¼í•´ë³¼ ìˆ˜ ìˆì—ˆê³  ê·¸ë¡œ ì¸í•´ ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•  ë•Œ ë‚´ê°€ ì•Œê³  ìˆëŠ” ë°°ê²½ì§€ì‹ì€ ë‘ë°°ë¡œ í™œìš©ë  ìˆ˜ ìˆë‹¤.")]),t._v(" "),a("h2",{attrs:{id:"references"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[t._v("#")]),t._v(" References.")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://tech.junhabaek.net/%EB%B0%B1%EC%97%94%EB%93%9C-%EC%84%9C%EB%B2%84-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98-presentation-layer-1-%EC%9A%94%EC%B2%AD-%EB%B0%A9%EC%8B%9D%EC%97%90-%EB%94%B0%EB%A5%B8-variation-353fe464bdb4",target:"_blank",rel:"noopener noreferrer"}},[t._v("ë°±ì—”ë“œ ì„œë²„ ì•„í‚¤í…ì²˜ â€” Presentation Layer 1. ìš”ì²­ ë°©ì‹ì— ë”°ë¥¸ Variation"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://evan-moon.github.io/2020/05/21/about-cors/",target:"_blank",rel:"noopener noreferrer"}},[t._v("CORSëŠ” ì™œ ì´ë ‡ê²Œ ìš°ë¦¬ë¥¼ í˜ë“¤ê²Œ í•˜ëŠ”ê±¸ê¹Œ?"),a("OutboundLink")],1),a("br"),t._v(" "),a("a",{attrs:{href:"https://tecoble.techcourse.co.kr/post/2021-05-24-spring-interceptor/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Spring ArgumentResolverì™€ Interceptor"),a("OutboundLink")],1)]),t._v(" "),a("TagLinks")],1)}),[],!1,null,null,null);s.default=e.exports}}]);