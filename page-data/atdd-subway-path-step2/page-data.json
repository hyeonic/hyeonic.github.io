{"componentChunkName":"component---src-templates-post-jsx","path":"/atdd-subway-path-step2/","result":{"data":{"site":{"siteMetadata":{"title":"ë‚˜ëˆ„ë©´ ë°°ê°€ ë˜ê³ "}},"markdownRemark":{"id":"46405f9c-f765-5897-b294-99ac7b74b9bf","excerpt":"ëª©í‘œ  ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì—ì„œ ì§„í–‰í•œ ë¯¸ì…˜ì˜ ë¦¬ë·°ì™€ í”¼ë“œë°±ì— ëŒ€í•´ ì •ë¦¬í•œë‹¤. ì‹¤ì œ ë¦¬ë·°ëŠ” [Spring ê²½ë¡œ ì¡°íšŒ - 2ë‹¨ê³„] ë§¤íŠ¸(ìµœê¸°í˜„) ë¯¸ì…˜ ì œì¶œí•©ë‹ˆë‹¤.ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 06. 2ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ í™•ì¸ 2ë‹¨ê³„ì—ì„œëŠ” ê¸°ì¡´ ë¡œì§ì—ì„œ ìš”ê¸ˆ ì •ì±…ì— ëŒ€í•œ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì‹¤ì œë¡œ ìš´ì˜ë˜ê³  ìˆëŠ” ì§€í•˜ì²  ìš”ê¸ˆ ì •ì±…ì„ ëŒ€ë¶€ë¶„ ì ìš©í–ˆê¸° ë•Œë¬¸ì— ì‹¤ì œ ì¡´ì¬â€¦","html":"<h2>ëª©í‘œ</h2>\n<p><img src=\"https://user-images.githubusercontent.com/59357153/152970395-a31c8134-fc89-449f-b4dc-441e03df929c.png\"></p>\n<p>ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ì—ì„œ ì§„í–‰í•œ ë¯¸ì…˜ì˜ ë¦¬ë·°ì™€ í”¼ë“œë°±ì— ëŒ€í•´ ì •ë¦¬í•œë‹¤. ì‹¤ì œ ë¦¬ë·°ëŠ” <a href=\"https://github.com/woowacourse/atdd-subway-path/pull/272\">[Spring ê²½ë¡œ ì¡°íšŒ - 2ë‹¨ê³„] ë§¤íŠ¸(ìµœê¸°í˜„) ë¯¸ì…˜ ì œì¶œí•©ë‹ˆë‹¤.</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>\n<h2>06. 2ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ í™•ì¸</h2>\n<p>2ë‹¨ê³„ì—ì„œëŠ” ê¸°ì¡´ ë¡œì§ì—ì„œ ìš”ê¸ˆ ì •ì±…ì— ëŒ€í•œ ê¸°ëŠ¥ë“¤ì´ ì¶”ê°€ë˜ì—ˆë‹¤. ì‹¤ì œë¡œ ìš´ì˜ë˜ê³  ìˆëŠ” ì§€í•˜ì²  ìš”ê¸ˆ ì •ì±…ì„ ëŒ€ë¶€ë¶„ ì ìš©í–ˆê¸° ë•Œë¬¸ì— ì‹¤ì œ ì¡´ì¬í•˜ëŠ” ì„œë¹„ìŠ¤ë¥¼ ë§Œë“œëŠ” ë“¯í•œ ëŠë‚Œë„ ê°€ì ¸ê°ˆ ìˆ˜ ìˆì—ˆë‹¤.</p>\n<p>ë˜í•œ 1ë‹¨ê³„ì—ì„œ <code class=\"language-text\">ë„ë©”ì¸ì—ì„œ íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜ì¡´í•˜ëŠ” ë¬¸ì œ</code>ì— ëŒ€í•œ ë¦¬ë·°ê°€ ìˆì—ˆë‹¤. ì´ê²ƒì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë‹¤ì–‘í•œ ê³ ë¯¼ì„ ì§„í–‰í–ˆìœ¼ë©° ë‚˜ë¦„ì˜ ê¸°ì¤€ë„ ì¡íˆê²Œ ë˜ì–´ ë§ì€ ê²ƒë“¤ì„ ì–»ì„ ìˆ˜ ìˆëŠ” ì‹œê°„ì´ ë˜ì—ˆë‹¤.</p>\n<h2>íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì¢…ì†ì ì¸ ë„ë©”ì¸</h2>\n<p>ë„ë©”ì¸ì´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ê°•í•˜ê²Œ ì˜ì¡´í•˜ê²Œ ë˜ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë³€ê²½ì— ë„ë©”ì¸ì´ ë§¤ìš° ì·¨ì•½í•œ êµ¬ì¡°ê°€ ëœë‹¤ê³  ìƒê°í•œë‹¤. ë§ì€ ê³ ë¯¼ ëì— <code class=\"language-text\">ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” í–‰ìœ„</code> ìì²´ë¥¼ ì¶”ìƒí™”í•˜ì—¬ <code class=\"language-text\">PathServiceì— ì£¼ì…</code>í•˜ëŠ” í˜•íƒœë¡œ ê°œì„ í•˜ì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">PathFindable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">Path</span> <span class=\"token function\">findPath</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Section</span><span class=\"token punctuation\">></span></span> sections<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Station</span> source<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Station</span> target<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê²½ë¡œë¥¼ ì°¾ê¸° ìœ„í•´ <code class=\"language-text\">findPath</code>ë¥¼ ê°€ì§„ <code class=\"language-text\">PathFindable</code> ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ìœ„ ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œ êµ¬í˜„ì²´ê°€ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë„ë¡ ì‘ì„±í–ˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ShortestPathFindable</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">PathFindable</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">WeightedMultigraph</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Station</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">DefaultWeightedEdge</span><span class=\"token punctuation\">></span></span> graph<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">ShortestPathFindable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>graph <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">WeightedMultigraph</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SectionEdge</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token annotation punctuation\">@Transactional</span><span class=\"token punctuation\">(</span>readOnly <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PathService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">PathFindable</span> pathFindable<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">PathService</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">SectionDao</span> sectionDao<span class=\"token punctuation\">,</span> <span class=\"token class-name\">StationService</span> stationService<span class=\"token punctuation\">,</span> <span class=\"token class-name\">PathFindable</span> pathFindable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>pathFindable <span class=\"token operator\">=</span> pathFindable<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ ë„ë©”ì¸ì—ì„œ ë”ì´ìƒ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì˜ì¡´í•˜ì§€ ì•Šê³  ìˆë‹¤. ë˜í•œ ì¶”í›„ ê²½ë¡œ ì¡°íšŒì— ëŒ€í•œ ìš”êµ¬ì‚¬í•­ì´ ë³€ê²½ë˜ë©´ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì¶”ê°€ì ìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ <code class=\"language-text\">Bean</code>ìœ¼ë¡œ ë“±ë¡í•˜ë©´ ì†ì‰½ê²Œ <code class=\"language-text\">PathService</code>ì˜ ì˜ì¡´ì„±ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ë” ë‚˜ì•„ê°€ í˜„ì¬ íŒ¨í‚¤ì§€ êµ¬ì¡°ëŠ” ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ì—ì„œ í•´ë‹¹ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ë¥¼ ëª¨ë‘ ê°€ì§€ê³  ìˆë‹¤. êµ¬í˜„ì²´ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°•í•˜ê²Œ ì˜ì¡´í•˜ê³  ìˆê¸° ë•Œë¬¸ì— ë„ë©”ì¸ì˜ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹í•˜ëŠ” ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€ ë‚´ë¶€ì— ìœ„ì¹˜í•˜ëŠ” ê²ƒì´ ë§ëŠ”ì§€ì— ëŒ€í•œ ê³ ë¯¼ì´ ìˆë‹¤. êµ¬í˜„ì²´ë§Œ ì™¸ë¶€ íŒ¨í‚¤ì§€ (ex. support)ì— ë‘ë©´ ë„ë©”ì¸ ë‚´ì— ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ê°•í•œ ì˜ì¡´ì„±ì„ ëŠì–´ë‚¼ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ìƒê°í•œë‹¤.</p>\n<h2>OCPë¥¼ ì§€í‚¤ì</h2>\n<p>ì²˜ìŒ ìš”ê¸ˆ ê³„ì‚°ì„ ì§„í–‰í•˜ê¸° ìœ„í•´ ë‚˜ì´ ì¡°ê±´ ë§ˆë‹¤ ë¶„ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ifë¬¸ì„ ì‘ì„±í•˜ì˜€ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Fare</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token function\">reduceFare</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> fare<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">13</span> <span class=\"token operator\">&amp;&amp;</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">19</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fare <span class=\"token operator\">-</span> <span class=\"token constant\">DEDUCTION</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>age <span class=\"token operator\">>=</span> <span class=\"token number\">6</span> <span class=\"token operator\">&amp;&amp;</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">13</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fare <span class=\"token operator\">-</span> <span class=\"token constant\">DEDUCTION</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> fare<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•´ë‹¹ êµ¬ì¡°ëŠ” ê²°êµ­ ë‚˜ì´ì— ëŒ€í•œ ì¡°ê±´ì´ ì¶”ê°€ëœë‹¤ë©´ ifë¬¸ì´ ëŠ˜ì–´ë‚  ìˆ˜ ë°–ì— ì—†ëŠ” êµ¬ì¡°ë¥¼ ì•¼ê¸°í•œë‹¤. ì´ê²ƒì„ ê°œì„ í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ enumì„ í™œìš©í•˜ì˜€ë‹¤.</p>\n<p>ì•„ë˜ëŠ” ê±°ë¦¬ ë¹„ë¡€ë¡œ ìš”ê¸ˆ ê³„ì‚°ì„ ìœ„í•œ <code class=\"language-text\">DistanceProportionCalculator</code>ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">DistanceProportionCalculator</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">DEFAULT_STANDARD</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">-></span> <span class=\"token number\">0</span> <span class=\"token operator\">&lt;=</span> distance <span class=\"token operator\">&amp;&amp;</span> distance <span class=\"token operator\">&lt;=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> ignored <span class=\"token operator\">-></span> <span class=\"token number\">1250</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">FIRST_STANDARD</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">-></span> <span class=\"token number\">10</span> <span class=\"token operator\">&lt;</span> distance <span class=\"token operator\">&amp;&amp;</span> distance <span class=\"token operator\">&lt;=</span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n            distance <span class=\"token operator\">-></span> <span class=\"token number\">1250</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">-</span> <span class=\"token number\">10</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">SECOND_STANDARD</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">-></span> distance <span class=\"token operator\">></span> <span class=\"token number\">50</span><span class=\"token punctuation\">,</span>\n            distance <span class=\"token operator\">-></span> <span class=\"token number\">2050</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Math</span><span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">-</span> <span class=\"token number\">50</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">8</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Predicate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> condition<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> function<span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">DistanceProportionCalculator</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Predicate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> condition<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> function<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>condition <span class=\"token operator\">=</span> condition<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>function <span class=\"token operator\">=</span> function<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">DistanceProportionCalculator</span> <span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> distance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>it <span class=\"token operator\">-></span> it<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>distance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">findFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span>distance <span class=\"token operator\">+</span> <span class=\"token string\">\"ëŠ” ê³„ì‚°ì´ ë¶ˆê°€ëŠ¥í•œ ê±°ë¦¬ì…ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">calculateFare</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> distance<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> function<span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>distance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ê·¸ ë‹¤ìŒ ë‚˜ì´ë³„ë¡œ í• ì¸ì„ ì ìš©í•˜ê¸° ìœ„í•œ <code class=\"language-text\">AgeDiscounter</code>ì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">enum</span> <span class=\"token class-name\">AgeDiscounter</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token function\">INFANT</span><span class=\"token punctuation\">(</span>age <span class=\"token operator\">-></span> <span class=\"token number\">0</span> <span class=\"token operator\">&lt;=</span> age <span class=\"token operator\">&amp;&amp;</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> fare <span class=\"token operator\">-></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">CHILDREN</span><span class=\"token punctuation\">(</span>age <span class=\"token operator\">-></span> <span class=\"token number\">6</span> <span class=\"token operator\">&lt;=</span> age <span class=\"token operator\">&amp;&amp;</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> fare <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fare <span class=\"token operator\">-</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">TEENAGER</span><span class=\"token punctuation\">(</span>age <span class=\"token operator\">-></span> <span class=\"token number\">13</span> <span class=\"token operator\">&lt;=</span> age <span class=\"token operator\">&amp;&amp;</span> age <span class=\"token operator\">&lt;</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> fare <span class=\"token operator\">-></span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>fare <span class=\"token operator\">-</span> <span class=\"token number\">350</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">0.8</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function\">ORDINAL</span><span class=\"token punctuation\">(</span>age <span class=\"token operator\">-></span> age <span class=\"token operator\">>=</span> <span class=\"token number\">19</span><span class=\"token punctuation\">,</span> fare <span class=\"token operator\">-></span> fare<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Predicate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> condition<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> function<span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">AgeDiscounter</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Predicate</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> condition<span class=\"token punctuation\">,</span> <span class=\"token class-name\">Function</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Integer</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Integer</span><span class=\"token punctuation\">></span></span> function<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>condition <span class=\"token operator\">=</span> condition<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>function <span class=\"token operator\">=</span> function<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token class-name\">AgeDiscounter</span> <span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Arrays</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token function\">values</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>it <span class=\"token operator\">-></span> it<span class=\"token punctuation\">.</span>condition<span class=\"token punctuation\">.</span><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">findFirst</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElseThrow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span>age <span class=\"token operator\">+</span> <span class=\"token string\">\"ëŠ” í• ì¸í•  ìˆ˜ ì—†ëŠ” ë‚˜ì´ì…ë‹ˆë‹¤.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">discount</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> fare<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> function<span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>fare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì´ì œ FareëŠ” ì œê³µëœ distance, age, extraFareë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•„ìš”í•œ ë¶€ë¶„ì„ ì ì ˆíˆ í˜¸ì¶œí•˜ì—¬ ê³„ì‚°í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Fare</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> distance<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> extraFare<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Fare</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> distance<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> extraFare<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>distance <span class=\"token operator\">=</span> distance<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>extraFare <span class=\"token operator\">=</span> extraFare<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">calculateFare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">DistanceProportionCalculator</span> distanceProportionCalculator <span class=\"token operator\">=</span> <span class=\"token class-name\">DistanceProportionCalculator</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>distance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> fare <span class=\"token operator\">=</span> distanceProportionCalculator<span class=\"token punctuation\">.</span><span class=\"token function\">calculateFare</span><span class=\"token punctuation\">(</span>distance<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token class-name\">AgeDiscounter</span> ageDiscounter <span class=\"token operator\">=</span> <span class=\"token class-name\">AgeDiscounter</span><span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> ageDiscounter<span class=\"token punctuation\">.</span><span class=\"token function\">discount</span><span class=\"token punctuation\">(</span>fare <span class=\"token operator\">+</span> extraFare<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ë„ë©”ì¸ ë‚´ë¶€ë¡œ</h2>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token annotation punctuation\">@Transactional</span><span class=\"token punctuation\">(</span>readOnly <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PathService</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getMaxExtraFare</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Path</span> shortestPath<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Section</span><span class=\"token punctuation\">></span></span> sections <span class=\"token operator\">=</span> shortestPath<span class=\"token punctuation\">.</span><span class=\"token function\">getSections</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> sections<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Section</span><span class=\"token operator\">::</span><span class=\"token function\">getLine</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">mapToInt</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Line</span><span class=\"token operator\">::</span><span class=\"token function\">getExtraFare</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token constant\">DEFAULT_EXTRA_FARE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4>ë¦¬ë·° ì¤‘ ì¼ë¶€</h4>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token code-snippet code keyword\">`ë¦¬ë·°ì–´`</span>: í•´ë‹¹ ë¡œì§ì€ serviceë³´ë‹¤ ë” ì ì ˆí•œ ê³³ì´ ìˆì„ ê²ƒ ê°™ì•„ìš”. ğŸ˜</code></pre></div>\n<h3>Transaction Script Pattern</h3>\n<p>Service ê³„ì¸µì—ì„œ ì ˆì°¨ì§€í–¥ì— ê°€ê¹Œìš´ ì½”ë“œë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë§ˆí‹´íŒŒìš¸ëŸ¬ëŠ” <code class=\"language-text\">Transaction Script Pattern</code>ì´ë¼ ë¶ˆë €ë‹¤.</p>\n<p>ìœ„ ë°©ë²•ì€ ê°ì²´ì§€í–¥ ì„¤ê³„ë³´ë‹¤ ë‹¨ìˆœíˆ í‘œí˜„ ê³„ì¸µì˜ ìš”ì²­ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ë¡œì§ì„ Service ê³„ì¸µ ë‚´ë¶€ì— ì‘ì„±í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ê²°êµ­ ë¡œì§ì„ í†µí•´ ë„ì¶œëœ ê°ì²´ì˜ ê²½ìš° ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ê°ì²´ ë‚´ë¶€ì— í–‰ìœ„ë¥¼ ê°€ì§€ì§€ ì•Šê²Œ ëœë‹¤.</p>\n<h3>Domain Model Pattern</h3>\n<p><code class=\"language-text\">Transaction Script Pattern</code>ì€ ë§¤ìš° ë‹¨ìˆœí•˜ì—¬ ë¹ ë¥´ê²Œ ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆì§€ë§Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìì²´ê°€ ë³µì¡í•´ì§€ë©´ ìœ ì§€ë³´ìˆ˜ì— ë§¤ìš° ì·¨ì•½í•œ êµ¬ì¡°ë¥¼ ì•¼ê¸°í•œë‹¤.</p>\n<p>ì¦‰ ê°ì²´ì§€í–¥ ì„¤ê³„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë„ë©”ì¸ ê°ì²´ ë‚´ë¶€ë¡œ ì´ë™í•´ì•¼ í•œë‹¤. ê°ì²´ ë‚´ë¶€ë¡œ ì ì ˆíˆ ìº¡ìŠí™”í•˜ì—¬ ê¸°ëŠ¥ë§Œ ì™¸ë¶€ì— ì œê³µí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì§„í–‰í•˜ë©´ ë°ì´í„°ì˜ ë³€ê²½ì´ ìƒê²¨ë„ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ëŠ” ìµœì†Œí•œì˜ ì˜í–¥ì„ ë¼ì¹˜ë©° ìœ ì§€ë³´ìˆ˜ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>\n<p>ê°ì²´ì§€í–¥ ì„¤ê³„ëŠ” ë‹¤ì–‘í•œ ë„ë©”ì¸ ëª¨ë¸ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ ì¶”ê°€ì ì¸ ê°ì²´ë¥¼ ì‘ì„±í•´ì•¼í•˜ë©° ê´€ë¦¬í•´ì•¼í•  í¬ì¸íŠ¸ë“¤ì´ ëŠ˜ì–´ë‚œë‹¤. ê·¸ëŸ¼ì—ë„ ê°ì²´ì§€í–¥ ì„¤ê³„ë¥¼ ì§„í–‰í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œ?</p>\n<ul>\n<li>ì„¤ê³„ì— ëŒ€í•œ ì´í•´ì™€ ìœ ì§€ë³´ìˆ˜ì— ìš©ì´í•˜ë‹¤. ê°ê°ì˜ ê°ì²´ëŠ” ì‘ì€ ì±…ì„ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ê° ê°ì²´ì˜ ì—­í• ì„ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©° ì±…ì„ì˜ ë³€í™”ì—ë„ ì‰½ê²Œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.</li>\n<li>í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ì›Œì§„ë‹¤. ê°ê°ì˜ ê°ì²´ë“¤ì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ìˆê¸° ë•Œë¬¸ì— ìˆœìˆ˜í•œ Java ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë…ë¦½ëœ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.</li>\n<li>í™•ì¥í•˜ê¸° ìš©ì´í•œ êµ¬ì¡°ì´ë‹¤. ë‹¤ì–‘í•œ ë””ìì¸ íŒ¨í„´ì´ë‚˜ ë‹¤í˜•ì„±ì„ í™œìš©í•˜ì—¬ ì‹¤ì œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•Šê³  ë‚´ë¶€ êµ¬í˜„ì²´ë¥¼ ë°”ê¾¸ëŠ” í–‰ìœ„ë§Œìœ¼ë¡œ í™•ì¥ì— ìš©ì´í•œ êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.</li>\n</ul>\n<p>ì´ì œ ê´€ë ¨ ë¦¬ë·°ë¥¼ ë‹¤ì‹œ í•œë²ˆ ì‚´í´ë³´ì.</p>\n<h4>ë¦¬ë·° ì¤‘ ì¼ë¶€</h4>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token code-snippet code keyword\">`ë¦¬ë·°ì–´`</span>: í•´ë‹¹ ë¡œì§ì€ serviceë³´ë‹¤ ë” ì ì ˆí•œ ê³³ì´ ìˆì„ ê²ƒ ê°™ì•„ìš”. ğŸ˜</code></pre></div>\n<p>ê¸°ì¡´ì— Service ê³„ì¸µì— ì‘ì„±ëœ <code class=\"language-text\">getMaxExtraFare</code>ë¥¼ ë„ë©”ì¸ ê°ì²´ ë‚´ë¶€ë¡œ ì´ë™í•˜ì—¬ ê°œì„ í•œë‹¤.</p>\n<h4>ë¦¬ë·° ì¤‘ ì¼ë¶€</h4>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre class=\"language-markdown\"><code class=\"language-markdown\"><span class=\"token code-snippet code keyword\">`ë§¤íŠ¸`</span>: ì–¸ê¸‰í•˜ì‹  ê²ƒ ì²˜ëŸ¼ Lin ì»¬ë ‰ì…˜ì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ Linesë¥¼ ìƒì„±í•˜ì—¬ ê°€ì¥ í° ì¶”ê°€ ìš”ê¸ˆì„ ë°˜í™˜í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•˜ì˜€ìŠµë‹ˆë‹¤!</code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Lines</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> <span class=\"token keyword\">int</span> <span class=\"token constant\">DEFAULT_EXTRA_FARE</span> <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Line</span><span class=\"token punctuation\">></span></span> value<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Lines</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Line</span><span class=\"token punctuation\">></span></span> value<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ArrayList</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">int</span> <span class=\"token function\">getMaxExtraFare</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> value<span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">mapToInt</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Line</span><span class=\"token operator\">::</span><span class=\"token function\">getExtraFare</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token constant\">DEFAULT_EXTRA_FARE</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>ì •ë¦¬</h2>\n<p>ìš°í…Œì½” ì´ì „ì— ì‘ì„±í•œ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì‚´í´ë³´ë©´ Service ê³„ì¸µì— ì˜¨ê°– ì¤‘ìš”í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ëª¨ë‘ ì‘ì„±í•˜ì˜€ë‹¤. ë‹¹ì‹œì—ëŠ” ê°ì²´ì§€í–¥ì— ëŒ€í•œ ê°œë… ì¡°ì°¨ ì¡íˆì§€ ì•Šì•˜ìœ¼ë©° ì™œ ê·¸ë ‡ê²Œ í•´ì•¼ í•˜ëŠ”ì§€ ì¡°ì°¨ ì¸ì§€í•˜ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì´ë‹¤. </p>\n<p>ë˜í•œ ë„ë©”ì¸ì´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì˜ì¡´í•˜ëŠ” ê²ƒì´ ë¬¸ì œì¸ì§€ ì¡°ì°¨ ì¸ì§€í•˜ì§€ ëª»í–ˆë‹¤. ë‹¨ìˆœíˆ ì£¼ì–´ì§„ ê³¼ì—…ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ë™ì‘ë§Œ í•˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ ì½”ë“œë“¤ì€ ë‚´ê°€ ì‘ì„±í–ˆì§€ë§Œ ë¦¬íŒ©í† ë§í•˜ê¸° ì‰½ì§€ ì•Šì•˜ë‹¤. </p>\n<p>ê°ì²´ì§€í–¥ ì„¤ê³„ëŠ” ë§ì€ ì´ì ì„ ê°€ì ¸ì˜¨ë‹¤. í…ŒìŠ¤íŠ¸ê°€ ìš©ì´í•œ êµ¬ì¡°ê°€ ë˜ë©° í™•ì¥ì—ëŠ” ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆë‹¤. ìš°ë¦¬ëŠ” ë” ì´ìƒ ê°ì²´ì§€í–¥ ì„¤ê³„ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šê³  ì‘ì„±í•  ì´ìœ ê°€ ì—†ë‹¤ê³  ìƒê°í•œë‹¤.</p>\n<h2>References.</h2>\n<ul>\n<li><a href=\"https://github.com/msbaek/memo/blob/master/Business-Logic-Organization-Patterns.md\">Business Logic Organization Patterns</a></li>\n</ul>","frontmatter":{"title":"[ë ˆë²¨ 2] 06. 2ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ","date":"June 17, 2022","update":"June 17, 2022","tags":["ìš°ì•„í•œí…Œí¬ì½”ìŠ¤","ë ˆë²¨2","ë¯¸ì…˜"],"series":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ ë ˆë²¨2"},"fields":{"slug":"/atdd-subway-path-step2/","readingTime":{"minutes":11.52}}},"seriesList":{"edges":[{"node":{"id":"d4b6d632-cd5f-543f-a9a6-db1995b81aab","fields":{"slug":"/jwp-chess-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 01. ì‚¬ì „ ì¤€ë¹„, 1ë‹¨ê³„ - ì›¹ ì²´ìŠ¤"}}},{"node":{"id":"85419abc-c066-522b-b67a-b4f7adec2719","fields":{"slug":"/jwp-chess-step2/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 02. 2ë‹¨ê³„ - ì›¹ ì²´ìŠ¤"}}},{"node":{"id":"0187b675-7a80-5588-94d9-a7bb02396071","fields":{"slug":"/atdd-subway-map-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 03. 1, 2ë‹¨ê³„ - ì§€í•˜ì²  ë…¸ì„ ë„"}}},{"node":{"id":"1a3b11fe-a700-5797-acf9-f821623d6b81","fields":{"slug":"/atdd-subway-map-step2/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 04. 3ë‹¨ê³„ - ì§€í•˜ì²  ë…¸ì„ ë„"}}},{"node":{"id":"66a7cc25-e3d5-5ae3-b843-1cc5ff745f90","fields":{"slug":"/atdd-subway-path-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 05. ì‚¬ì „ ì¤€ë¹„, 1ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ"}}},{"node":{"id":"46405f9c-f765-5897-b294-99ac7b74b9bf","fields":{"slug":"/atdd-subway-path-step2/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 06. 2ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ"}}},{"node":{"id":"bdeb9ce6-d9ab-5297-9e94-91374bfa86db","fields":{"slug":"/jwp-shopping-cart-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 07. 1ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ - í˜‘ì—… ë¯¸ì…˜"}}},{"node":{"id":"5b94303c-ab34-5ec1-ac86-5ef82deff412","fields":{"slug":"/jwp-shopping-cart-step2/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 08. 2ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ/ì£¼ë¬¸ API ë³€ê²½í•˜ê¸°"}}}]},"previous":{"fields":{"slug":"/atdd-subway-path-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 05. ì‚¬ì „ ì¤€ë¹„, 1ë‹¨ê³„ - ì§€í•˜ì²  ê²½ë¡œ ì¡°íšŒ"}},"next":{"fields":{"slug":"/jwp-shopping-cart-step1/"},"frontmatter":{"title":"[ë ˆë²¨ 2] 07. 1ë‹¨ê³„ - ì¥ë°”êµ¬ë‹ˆ - í˜‘ì—… ë¯¸ì…˜"}}},"pageContext":{"id":"46405f9c-f765-5897-b294-99ac7b74b9bf","series":"ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ ë ˆë²¨2","previousPostId":"66a7cc25-e3d5-5ae3-b843-1cc5ff745f90","nextPostId":"bdeb9ce6-d9ab-5297-9e94-91374bfa86db"}},"staticQueryHashes":[],"slicesMap":{}}