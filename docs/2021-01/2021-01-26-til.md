## 2021.01.26 오브젝트, spring webSocket

## 오브젝트
09 유연한 설계

개방-폐쇄 원칙 (Open-Closed Principle, OCP)
 소프트웨어 개체(클래스, 모듈, 함수 등등)는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다.
 - 확장에 대해 열려 있다: 애플리케이션의 요구사항이 변경될 때 이 변경에 맞게 새로운 ‘동작을 추가해서 애플리케이션의 기능을 확장할 수 있다.

 - 수정에 대해 닫혀 있다: 기존의 코드를 수정하지 않고도 애플리케이션의 동작을 추가하거나 변경할 수 있다.

컴파일타임 의존성을 고정시키고 런타임 의존성을 변경하라
 - 런타임 의존성: 실행 시에 협력에 참여하는 객체들 사이의 관계
 - 컴파일타임 의존성: 코드에서 드러나는 클래스들 사이의 관계
 
&nbsp;유연하고 재사용 가능한 설계를 원한다면 객체와 관련된 두 가지 책임을 서로 다른 객체로 분리해야 한다. 하나는 객체를 생성하는 것이고, 다른 하나는 객체를 사용하는 것이다. 객체에 대한 생성과 사용을 분리 (separating use from creation) 해야 한다.

&nbsp;생성과 사용을 분리하기 위해 객체 생성에 특화된 객체를 FACTORY라고 부른다. Client는 오직 사용과 관련된 책임만 지고 생성과 관련된 어떤 지식도 가지지 않을 수 있다.

&nbsp;의존성 해결은 컴파일 의존성과 런타임 의존성의 차이점을 해소하기 위한 다양한 메커니즘을 포괄한다. 의존성 주입은 의존성을 해결하기 위해 의존성을 객체의 퍼블릭 인터페이스에 명시적으로 드러내서 외부에서 필요한 런타임 의존성을 전달할 수 있도록 만드는 방법을 포괄하는 명칭이다.
 - 생성자 주입 (constructor injection): 객체를 생성하는 시점에 생성자를 통한 의존성 해결
 - setter 주입 (setter injection): 객체 생성 후 setter 메소드를 통한 의존성 해결
 - 메소드 주입 (method injection): 메소드 실행 시 인자를 이용한 의존성 해결, 메소드 호출 주입 (method call injection) 이라고도 불린다.

SERVICE LOCATOR 패턴: 의존성을 해결할 객체들을 보관하는 일종의 저장소.
SERVICE LOCATOR 패턴의 가장 큰 단점은 의존성을 감춘다.

가능하다면 의존성을 명시적으로 표현할 수 있는 기법을 사용해라.

추상화와 의존성 역전

&nbsp;추상화에 의존하는 것. 유연하고 재사용 가능한 설계를 원한다면 모든 의존성의 방향이 추상 클래스나 인터페이스와 같은 추상화를 따라야 한다. 구체 클래스는 의존성의 시작점이어야 한다. 의존성의 목적지가 돼서는 안된다.

 - 상위 수준의 모듈은 하위 수준의 모듈에 의존해서는 안 된다. 둘 모두 추상화에 의존해야 한다.
 - 추상화는 구체적인 사항에 의존해서는 안 된다. 구체적인 사항은 추상화에 의존해야 한다.

이를 의존성 역전 원칙 (Dependency Inversion Principle, DIP)라고 부른다.

협력과 책임이 중요하다
&nbsp;지금까지 클래스를 중심으로 구현 메커니즘 관점에서 의존성을 설명했지만 설계를 유연하게 만들기 위해서는 협력에 참여하는 객체가 다른 객체에게 어떤 메시지를 전송하는지가 중요하다.

&nbsp;설계를 유연하게 만들기 위해서는 먼저 역할, 책임, 협력에 초점을 맞춰야 한다.

&nbsp;객체를 생성하는 방법에 대한 결정은 모든 책임이 자리를 잡은 후 가장 마지막 시점에 내리는 것이 적절하다는 것이다.

&nbsp;의존성을 관리해야 하는 이유는 역할, 책임, 협력의 관점에서 설계가 유연하고 재사용 가능해야 하기 때문이다. 따라서 역할, 책임, 협력에 먼저 집중하라. 

출처 : 조영호 지음 오브젝트

## spring webSocket 채팅 프로그램 만들기

[SpringBoot - 스프링부트에서 채팅프로그램(소켓통신) 만들기-3(채팅방 만들기1)](https://myhappyman.tistory.com/102)

[SpringBoot - 스프링부트에서 채팅프로그램(소켓통신) 만들기-4(채팅방 만들기2)](https://myhappyman.tistory.com/103)

## 내일 할일
 - 알고리즘 문제 풀이
 - JPA 기본 강의 듣기
 - java live study 11주차 Enum 자료 정리
 - java 멘토링 4주차 진행하기