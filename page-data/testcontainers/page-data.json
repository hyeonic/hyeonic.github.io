{"componentChunkName":"component---src-templates-post-jsx","path":"/testcontainers/","result":{"data":{"site":{"siteMetadata":{"title":"나누면 배가 되고"}},"markdownRemark":{"id":"b3a293eb-b729-53e0-ac2b-5f1ec784c320","excerpt":"작성에 사용된 예제 코드는 testcontainers에서 확인해볼 수 있다. 대부분의 애플리케이션 서비스는 다른 서비스의 의존성을 가지고 운영된다. 간단한 예시로 데이터 저장을 위한 DB, 소셜 로그인을 위한 서버 호출 등을 통해 유기적으로 이루워져 있다.\n즉 하나의 독립적인 서버 환경에서는 원할한 서비스를 운영하는 것은 어려운 일이다.\n이러한 외부 의존…","html":"<blockquote>\n<p>작성에 사용된 예제 코드는 <a href=\"https://github.com/hyeonic/blog-code/tree/main/testcontainers\">testcontainers</a>에서 확인해볼 수 있다.</p>\n</blockquote>\n<p>대부분의 애플리케이션 서비스는 다른 서비스의 의존성을 가지고 운영된다. 간단한 예시로 데이터 저장을 위한 DB, 소셜 로그인을 위한 서버 호출 등을 통해 유기적으로 이루워져 있다.\n즉 하나의 독립적인 서버 환경에서는 원할한 서비스를 운영하는 것은 어려운 일이다.\n이러한 외부 의존성들은 애플리케이션 개발에 많은 편의성을 제공해주지만 우리가 제어할 수 없는 영역이 늘어날수록 통합 테스트에 대한 편의성은 줄어든다.</p>\n<blockquote>\n<p>통합 테스트란?</p>\n<p>애플리케이션의 모든 구성 요소가 예상대로 작동하는지 확인하는 유형의 테스트이다.</p>\n</blockquote>\n<p>만약 우리가 <code class=\"language-text\">RDBMS</code> 중 하나인 <code class=\"language-text\">MySQL</code>을 활용하여 서비스의 데이터를 관리한다고 가정한다. 통합 테스트를 진행하려면 우리 서비스에 연동된 MySQL에 데이터를 CRUD 할 수 있어야 한다.\n이러한 DB 연동 방법에는 여러가지가 있는데 몇 가지 방법을 추려보았다.</p>\n<h3>실제 운영 중인 DB에 직접 접근하여 통합 테스트</h3>\n<p>실제 운영 중인 서비스에서 달성할 수 있는 가장 간단한 방법이다. 안정적으로 운영 중인 서버로 DB 드라이버를 연동하고 그대로 테스트 코드를 작성하면 된다.\n다만 이 방식의 가장 큰 단점은 실제 운영 데이터에 통합 테스트 중 발생한 데이터가 섞이게 되는 것이다.\n또한 테스트는 여러 번 수행 되더라도 동일한 결과를 보여줘야 하기 때문에 <code class=\"language-text\">멱등성</code>을 잘 지키는 것이 중요하다.</p>\n<blockquote>\n<p>멱등성</p>\n<p>수학이나 전산학에서 연산의 한 성질을 나타내는 것으로, 연산을 여러 번 적용하더라도 결과가 달라지지 않는 성질</p>\n</blockquote>\n<p>이 멱등성을 지키기 위해서는 테스트 중 변경된 사항을 찾아 테스트 이전 상태로 바꿔줘야 한다. 이 작업은 DB 모델링에 따라 매우 복잡한 작업이 될 수 있다.\n또한 운영 중인 서비스 데이터에 직접적인 영향이 생길 수 있기 때문에 추천하지 않는 방법이다.</p>\n<h3>임베디드 형태의 DB 활용</h3>\n<p>일부 DB는 임베디드 형태의 테스트를 제공하기도 한다.</p>\n<ul>\n<li><a href=\"https://github.com/h2database/h2database\">h2database</a></li>\n<li><a href=\"https://github.com/wix-incubator/wix-embedded-mysql\">wix-embedded-mysql</a></li>\n</ul>\n<p>이러한 임베디드 형태의 DB는 스프링 서버와 라이프 사이클을 공유하기 때문에 <code class=\"language-text\">멱등성</code>을 지키기가 쉽다. 단순히 테스트를 진행할 때마다 DB 안에 모든 데이터를 초기화하면 되기 때문이다.\n또한 여러 명이서 한 프로젝트를 진행할 경우 추가적인 설정 없이 바로 서버 실행 및 테스트가 가능 하다는 장점이 있다.</p>\n<p>하지만 임베디드 형태의 DB의 경우 DB의 버전 변경에 적절히 대응해야 하지만 실제 DB 서버와는 차이가 있기 때문에 한계가 존재한다.\n실제 서비스에서 운영 중인 DB와 버전, 동작 방식이 다를 수 있기 때문에 실제와 유사한 환경에서 테스트하는데 한계가 있다.\n같은 결과가 나오길 기대 했지만 내부 동작 방식에 대한 차이로 인해 서로 다른 결과가 나올 가능성이 있기 때문이다.\n<a href=\"https://github.com/wix-incubator/wix-embedded-mysql\">wix-embedded-mysql</a> 문서를 살펴보면 지원이 중단된 것을 확인할 수 있다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/4acb603e6e4a197d3455414788d25e24/13d24/1.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 22.352941176470587%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA40lEQVR42k2Oy26DMBBF+f+v6Kar7KF0EZWqm+JAiIgSlUp9RAE/MVWkdGGwb213kxldae6cmdEkh8MR9bZBVW9Rkg2K5xdsqtrXFcqSIM9zZFkGQgjado9236IoCqRpitXxDl/XDiGsXeCcQ9Lsdlg/PuD+qcHr6eKRg5lnzDdalv/hIGtt9JE5A+vzNpKBUrx1Hd4/v8HHCUqN0HoCFzLWUiroaYKQEiL4UWPUP146Mul7gYUdYwySAChlYIxCecCFiP7c977HMQwUlAXOcGIXfPBfnOUVnIvIei+pVDwWvv8DyP8npHBVuz8AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='1' title='' src='/static/4acb603e6e4a197d3455414788d25e24/ca1dc/1.png' srcset='/static/4acb603e6e4a197d3455414788d25e24/e7570/1.png 170w,\n/static/4acb603e6e4a197d3455414788d25e24/f46e7/1.png 340w,\n/static/4acb603e6e4a197d3455414788d25e24/ca1dc/1.png 680w,\n/static/4acb603e6e4a197d3455414788d25e24/13d24/1.png 845w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3>로컬에서 동일 버전 DB 설치</h3>\n<p>다음은 로컬 환경에 운영 중인 DB 서버와 동일한 버전을 설치해서 연동하는 것이다. 서버를 직접 설치도 가능하고 도커와 같은 컨테이너 기술을 통해 실행하는 것도 가능하다.\n이 방식의 가장 큰 장점은 실제 운영 DB 서버와 동일한 환경에서 테스트할 수 있다는 것이다. 또한 로컬에서 수행되기 때문에 DB 테이블에 대한 조작을 자유롭게 할 수 있다.</p>\n<p>하지만 이에 대한 단점은 해당 프로젝트를 개발하는 모든 팀원이 개별적으로 설치하고 관리해야 한다는 것이다. 그나마 도커 컨테이너를 사용하면 도커 이미지를 통해 이러한 단점을 어느정도 상쇄시킬 수 있다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 298px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/f234f9ad31d2239cacca7bff200012b4/c9fe3/2.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 56.470588235294116%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACkklEQVR42n2T3UuTURzHB0WQ0EVlNrJIDAXxpalFFwVCF171B1R3XdRFIBYSgq808SVNrdym23xJnSNZztRsYzl1i+UbmNPN1MpILCtDUit1bvv07EVRgg78eM45z/f5nO855/uI+E/b9Hj8zwq9kYiMCqr0Bv/Y4/UGFV58Xe/2GEQ7AVsvlpaXMQ6P0T04inViijRVK+FZSsqfdu9ayOVysfB53ofFJcy5hdoF9ASFjrfTnEorICK9mKhsBadz5ETeKqZM2x4AugO68Q+fSKnU45yd23Yu2unsz9oadaZXZKq1JN1VkZhfQ1JRo9BXEpOv4kqpkjJh+/b3H/36nhE7x3Vz3NSa0dlGsUzMIPLB3EFnK4sLnM+6z4kb2UjyFEiyHhCXUUJCZjlnpSpi0ws4eD0XfU+fXz81Yefc4wFCGhyIpJ3cbuxEtAXTvx7lqtbKBZWZxKpukqp7SFaYkMgMJMqMJCv7SH70AoncyGWNhbSuN6Tq7ETWD1HYZaV/fBrX+jqi2bl52ju6SJNrOFz6nKSyNhKax4jXOoh9aERSoCFeYye+cZREaZOwgInoFgfR9SMck7ZyqbiWGcFpe7eBhe+LiH4L5+YWbqvDMsCBvCeIVTaOKG2E1tiIFxyGy8wcVVgQV1sRy3sRy/oIr+rlQJmJiDsKnM5JNjY3+bH0k/WNjcAZ+i9kdYWUoia/yyi5iZgqA6l1Jk42DBNWN4y4dgixepBQuY29pT2E5TRjFGK1O5cEgFtxsTucSNVNtPQP8NL5juRWO/tlNg4JkJCKfvYUGtiXq+NiqZaRiUn/N26PNxjxHcCt8rUvX7/RaR2gTajKLjNxJTrEgpsz91q5pu7gmXWItV+rwdx6//m7/gJ9JLhUEMeBGwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='2' title='' src='/static/f234f9ad31d2239cacca7bff200012b4/c9fe3/2.png' srcset='/static/f234f9ad31d2239cacca7bff200012b4/e7570/2.png 170w,\n/static/f234f9ad31d2239cacca7bff200012b4/c9fe3/2.png 298w' sizes='(max-width: 298px) 100vw, 298px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h3>testcontainers 활용한 통합 테스트 환경 구성</h3>\n<p><a href=\"https://testcontainers.com/\">testcontainers</a>는 테스트 환경을 도커 컨테이너로 제공하는 라이브러리이다. 데이터베이스, 웹 서버, 카프카 등\n다양한 종류의 컨테이너를 코드 레벨에서 제공해준다. 이러한 컨테이너는 테스트를 실행하는 동안 초기화되고, 완료되면 자동으로 제거된다.\n즉 테스트 진행과 동일한 라이프사이클을 가지고 동작한다. 이를 통해 테스트 환경의 일관성을 유지하여 멱등성을 잘 지킬 수 있도록 도와준다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/b3aef79ddbbce0e963c1b9aad0193296/e0796/3.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB/UlEQVR42o1Ry27TQBT1j/ERLPkGQFBAInTDnrIARUDZ8wVBqFJbkGgoz5YmtApUESjkUSeO7WRsz9OPw51xm24Z6fjOjO/cc8893qMbCTZupmjekXh6m59DoLmW4GUjwbP7ApsNgecNjhcPODbXFZp3xWXumnD5T25lhBReL4rwYzSG5imkkrhYVVkizhiCQkJJCSEypCmDSBaQtJeSQxsFYyhqAcYYNL33qso+rlAS3N6CCtpzUZQuWkhVwuSAOvkIPZ/BFBWMzpFnMQwVygugoDwvz3NkKSdWWUMq6iSjYsVlt8Sw15XwI3tXEwymHGHEHHtFCRkvkRA8fzLD7labsIftN+/xqX2IrdY7DP6MSIpZFc1EBaUrDH0GlilHktv7zk/owbhWRYq8RcxwdHDi8GX/CN+/HuOQ8O1zF6O/E1fMdtRqdzEJFk621ED/tIMlC1CGNLtFCh4FWC44PEMZCePgmSTpwiElCKEuBLvv7oce/CDBcDgBTyVOwxjjZYaloNmWIAMT+LGBJ7jE9CxEMI0x8yPMqQu7t1Ep7aTZ9fjhK1y/toHXrTbCmCOOU0fuhwrB0kCPJygSZl2u3bQm1LFcne0/C1JMM+7g6pV76Bz0HcHb/WP8+n1Wj4QQ7Owg6vXh4T+WMdZZejTn5KZeOZ/n1flA4EiNKfAPCRLnZ5D7gqcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='3' title='' src='/static/b3aef79ddbbce0e963c1b9aad0193296/ca1dc/3.png' srcset='/static/b3aef79ddbbce0e963c1b9aad0193296/e7570/3.png 170w,\n/static/b3aef79ddbbce0e963c1b9aad0193296/f46e7/3.png 340w,\n/static/b3aef79ddbbce0e963c1b9aad0193296/ca1dc/3.png 680w,\n/static/b3aef79ddbbce0e963c1b9aad0193296/02d09/3.png 1020w,\n/static/b3aef79ddbbce0e963c1b9aad0193296/e0796/3.png 1263w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>간단한 예시 작성을 위해 아래와 같은 환경에서 진행하였다.</p>\n<ul>\n<li>Spring Boot 3.2.2</li>\n<li>Java 17</li>\n<li>Testcontainers</li>\n<li>Spring Data JPA</li>\n<li>MySQL Driver</li>\n<li>Spring Web</li>\n</ul>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/dc306c040f4a41501dc3e2ca6ac4073c/4a2a8/4.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 85.88235294117648%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVR42qWUW27TQBRA0w8k1PJBN5ASSOLH2GNP/IofsUnzahCJolSNkFgDe+APsZrmB3aBhAyie6kyvtyZxpVDWoSIpSOP53F879yxazW8IoOFhJFlUyEzRdHnJbpuStwgkJTPVQihM2RJCIlr2+tZwNg3LwnBYh63Ox5Q2xVtMCgDYtrgeF2JeN7H5tR2QCfmD3Q9EcJTw4nzJB1CGKebMM4KL4gLv5sUzPELfEFhMbfARQXKH8DamFYHVM38ha4TIXxue1k+ns4hzQbc9UPwuzF4QQRluxv1ZFsjVKIblkS0Vd3kIgsU3qDrWApVjeRRkkIU97iY2FZ1UDTjnrZKZMqjyRtI0j5uhwtiazADARdjO0IU5P3RHC5mKz4YTSBK+hhZAkHYw+hSXOxD1h/C6t17WCyvYL64hMXlCobjKZwPJ/x8eLEfIWU+UBbwjhvIgojClJi0A6btg+VEskhlQUQ2dymzPyMk+d0Eyqt7tAOKxEIi71Usvi1KRYgRik6cwPcX2FIoxkvK43SQsCzKZPoWxLaIvoOEIiosAPQHY5AH+V5oS6HyPykLWZRkVdkjQvXvwqp0d/+2QtvbTVlR9e/ytOvmLS7cPAiheKc7fTh/o+nkVlOb0FbaP0vhKQ7mfhDjQU7wbQ48Bt0i23hWwzgBJxzx7OojWNHspvyWj+v1F59eNdtfWop6XT9rrP+Fs8bLdUtprRuqc62+/vC1YQw+o+upEB5tfzsnByIcR78BGd2r0yFYzgcAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='4' title='' src='/static/dc306c040f4a41501dc3e2ca6ac4073c/ca1dc/4.png' srcset='/static/dc306c040f4a41501dc3e2ca6ac4073c/e7570/4.png 170w,\n/static/dc306c040f4a41501dc3e2ca6ac4073c/f46e7/4.png 340w,\n/static/dc306c040f4a41501dc3e2ca6ac4073c/ca1dc/4.png 680w,\n/static/dc306c040f4a41501dc3e2ca6ac4073c/4a2a8/4.png 912w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>아래는 프로젝트 생성 이후 <code class=\"language-text\">build.gradle.kts</code> 파일을 가져온 것이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">import</span> org<span class=\"token punctuation\">.</span>jetbrains<span class=\"token punctuation\">.</span>kotlin<span class=\"token punctuation\">.</span>gradle<span class=\"token punctuation\">.</span>tasks<span class=\"token punctuation\">.</span>KotlinCompile\n\nplugins <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.springframework.boot\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token string-literal singleline\"><span class=\"token string\">\"3.2.2\"</span></span>\n    <span class=\"token function\">id</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"io.spring.dependency-management\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.1.4\"</span></span>\n    <span class=\"token function\">kotlin</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"jvm\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.9.22\"</span></span>\n    <span class=\"token function\">kotlin</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"plugin.spring\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.9.22\"</span></span>\n    <span class=\"token function\">kotlin</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"plugin.jpa\"</span></span><span class=\"token punctuation\">)</span> version <span class=\"token string-literal singleline\"><span class=\"token string\">\"1.9.22\"</span></span>\n<span class=\"token punctuation\">}</span>\n\ngroup <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"c.hyeoni\"</span></span>\nversion <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"0.0.1-SNAPSHOT\"</span></span>\n\njava <span class=\"token punctuation\">{</span>\n    sourceCompatibility <span class=\"token operator\">=</span> JavaVersion<span class=\"token punctuation\">.</span>VERSION_17\n<span class=\"token punctuation\">}</span>\n\nrepositories <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">mavenCentral</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ndependencies <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.springframework.boot:spring-boot-starter-data-jpa\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.springframework.boot:spring-boot-starter-web\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"com.fasterxml.jackson.module:jackson-module-kotlin\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">implementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.jetbrains.kotlin:kotlin-reflect\"</span></span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">runtimeOnly</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"com.mysql:mysql-connector-j\"</span></span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.springframework.boot:spring-boot-starter-test\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.springframework.boot:spring-boot-testcontainers\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.testcontainers:mysql\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">testImplementation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"org.testcontainers:junit-jupiter\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ntasks<span class=\"token punctuation\">.</span>withType<span class=\"token operator\">&lt;</span>KotlinCompile<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    kotlinOptions <span class=\"token punctuation\">{</span>\n        freeCompilerArgs <span class=\"token operator\">+=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"-Xjsr305=strict\"</span></span>\n        jvmTarget <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"17\"</span></span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nallOpen <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">annotation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"jakarta.persistence.Entity\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">annotation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"jakarta.persistence.Embeddable\"</span></span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">annotation</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"jakarta.persistence.MappedSuperclass\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\ntasks<span class=\"token punctuation\">.</span>withType<span class=\"token operator\">&lt;</span>Test<span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">useJUnitPlatform</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">Spring Boot</code>에서 <code class=\"language-text\">testcontainers</code>의 대한 지속적인 지원으로 편리하게 의존성을 추가하여 진행할 수 있다.\n특히 <code class=\"language-text\">Spring Boot 3.1</code> 이후 버전 부터는 <code class=\"language-text\">testcontainers</code>에 대한 지원이 더욱 향상되어 간단한 애노테이션 추가만으로 서버 구성이 가능해졌다.</p>\n<p>이제 통합 테스트를 진행하기 위해 MySQL 서버에 대한 세팅을 진행한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@ActiveProfiles</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"testcontainers\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation builtin\">@TestConfiguration</span><span class=\"token punctuation\">(</span>proxyBeanMethods <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> ContainersConfig <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@Bean</span>\n    <span class=\"token annotation builtin\">@ServiceConnection</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">mysqlContainer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> MySQLContainer<span class=\"token operator\">&lt;</span><span class=\"token operator\">*</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token function\">MySQLContainer</span><span class=\"token punctuation\">(</span>DockerImageName<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"mysql:latest\"</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">withDatabaseName</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"test-example\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">withUsername</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"test\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">withPassword</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"test\"</span></span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">withReuse</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">fun</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>args<span class=\"token operator\">:</span> Array<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    fromApplication<span class=\"token operator\">&lt;</span>TestcontainersApplication<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>ContainersConfig<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>args<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이제 익숙하지 않은 몇 가지 설정을 살펴본다.</p>\n<ul>\n<li><code class=\"language-text\">@ActiveProfiles(\"testcontainers\")</code>: <code class=\"language-text\">testcontainers</code>와 관련된 설정을 모아두기 위해 <code class=\"language-text\">profile</code>을 분리하여 지정하였다.</li>\n<li><code class=\"language-text\">@ServiceConnection</code>: 해당 설정을 통해 <code class=\"language-text\">@Bean</code> 메서드에 컨테이너에서 실행 중인 서비스에 대한 연결을 자동으로 설정하도록 도와준다. 해당 애노테이션 덕분에 더욱 편리하게 설정이 가능해졌다.</li>\n<li><code class=\"language-text\">MySQLContainer</code>: 도커 이미지를 활용하여 <code class=\"language-text\">MySQL</code>을 손쉽게 조작하기 위한 용도이다. DB 접근을 위한 다양한 설정 정보를 기입할 수 있다.</li>\n</ul>\n<p>참고로 <code class=\"language-text\">testcontainers profile</code> 설정 정보는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">spring</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">activate</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">on-profile</span><span class=\"token punctuation\">:</span> testcontainers\n\n  <span class=\"token key atrule\">jpa</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">open-in-view</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n    <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">ddl-auto</span><span class=\"token punctuation\">:</span> create<span class=\"token punctuation\">-</span>drop\n    <span class=\"token key atrule\">properties</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">hibernate</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">format_sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n    <span class=\"token key atrule\">show-sql</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span></code></pre></div>\n<p>이제 테스트를 위한 준비는 모두 마무리 되었다. 간단하게 해당 컨테이너를 활용하여 통합 테스트를 작성해본다.</p>\n<p>아래는 특정 멤버를 관리하기 위한 <code class=\"language-text\">Member Entity</code>이다. 간단한 검증을 위해 <code class=\"language-text\">id</code>, <code class=\"language-text\">name</code> 프로퍼티만을 가지고 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@Entity</span>\n<span class=\"token keyword\">class</span> <span class=\"token function\">Member</span><span class=\"token punctuation\">(</span>\n    <span class=\"token annotation builtin\">@Id</span>\n    <span class=\"token annotation builtin\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> GenerationType<span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">var</span> id<span class=\"token operator\">:</span> Long <span class=\"token operator\">=</span> <span class=\"token number\">0L</span><span class=\"token punctuation\">,</span>\n    <span class=\"token keyword\">var</span> name<span class=\"token operator\">:</span> String\n<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token keyword\">interface</span> MemberRepository <span class=\"token operator\">:</span> JpaRepository<span class=\"token operator\">&lt;</span>Member<span class=\"token punctuation\">,</span> Long<span class=\"token operator\">></span></code></pre></div>\n<p><code class=\"language-text\">@DataJpaTest</code>를 활용하여 <code class=\"language-text\">Repository</code>에 대한 슬라이스 테스트를 진행한다. 간단히 <code class=\"language-text\">member</code>를 생성해본다.</p>\n<div class=\"gatsby-highlight\" data-language=\"kotlin\"><pre class=\"language-kotlin\"><code class=\"language-kotlin\"><span class=\"token annotation builtin\">@DataJpaTest</span>\n<span class=\"token annotation builtin\">@AutoConfigureTestDatabase</span><span class=\"token punctuation\">(</span>replace <span class=\"token operator\">=</span> AutoConfigureTestDatabase<span class=\"token punctuation\">.</span>Replace<span class=\"token punctuation\">.</span>NONE<span class=\"token punctuation\">)</span>\n<span class=\"token annotation builtin\">@Import</span><span class=\"token punctuation\">(</span>ContainersConfig<span class=\"token operator\">::</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation builtin\">@ActiveProfiles</span><span class=\"token punctuation\">(</span><span class=\"token string-literal singleline\"><span class=\"token string\">\"testcontainers\"</span></span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">class</span> MemberRepositoryIntegrationTest <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation builtin\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">lateinit</span> <span class=\"token keyword\">var</span> memberRepository<span class=\"token operator\">:</span> MemberRepository\n\n    <span class=\"token annotation builtin\">@Test</span>\n    <span class=\"token keyword\">fun</span> <span class=\"token function\">saveTest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">val</span> member <span class=\"token operator\">=</span> <span class=\"token function\">Member</span><span class=\"token punctuation\">(</span>name <span class=\"token operator\">=</span> <span class=\"token string-literal singleline\"><span class=\"token string\">\"hyeonic\"</span></span><span class=\"token punctuation\">)</span>\n\n        assertThatCode <span class=\"token punctuation\">{</span> memberRepository<span class=\"token punctuation\">.</span><span class=\"token function\">save</span><span class=\"token punctuation\">(</span>member<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">.</span><span class=\"token function\">doesNotThrowAnyException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">@DataJpaTest</code>: JPA와 관련된 요소만 빈으로 등록한다.</li>\n<li><code class=\"language-text\">@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code>: <code class=\"language-text\">@DataJpaTest</code>를 사용하면 별도 설정 없이 자체적으로\n생성된 임베디드 DB를 활용한다. 하지만 우리는 실제 도커 컨테이너에서 동작하는 MySQL에 접근하여 테스트해야 하므로 해당 설정을 변경한다.</li>\n<li><code class=\"language-text\">@Import(ContainersConfig::class)</code>: 별도 설정한 <code class=\"language-text\">Config</code>를 import한다. 앞서 언급한 것 처럼 <code class=\"language-text\">@DataJpaTest</code>는 JPA와 관련된 EntityManager,\nRepository 등만 빈 등록 대상으로 활용한다.</li>\n<li><code class=\"language-text\">@ActiveProfiles(\"testcontainers\")</code>: 앞서 작성한 <code class=\"language-text\">application-testcontainers.yml</code>에 명시한 설정을 사용하기 위한 목적이다.</li>\n</ul>\n<p><code class=\"language-text\">testcontainers</code>는 도커 컨테이너를 활용하여 테스트 환경을 구성한다. <code class=\"language-text\">도커 데스크탑</code>을 활용하여 <code class=\"language-text\">testcontainers</code>가 어떻게 MySQL 컨테이너를 활용하는지 확인해본다.</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/6a1aa224b56e9cb3e6dcc3c155bc64af/9e029/5.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 11.76470588235294%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAhUlEQVR42h2OSQ6DMBRDOQoFytQJSCAMadJShCqx6P1P8/phYT1LlmwHSdWTGMvVfxiXjcavJNpRdI6wfhI2XiT+YcjbiVxPZGrk3AyUneU2eDJtiStzMEglSAfH/b1i1x9u+bK9NFndclIzkfLEdU8khRfjKEVFa6VcTvSeapqP8X1g5x8wr0ByO9qjMwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='5' title='' src='/static/6a1aa224b56e9cb3e6dcc3c155bc64af/ca1dc/5.png' srcset='/static/6a1aa224b56e9cb3e6dcc3c155bc64af/e7570/5.png 170w,\n/static/6a1aa224b56e9cb3e6dcc3c155bc64af/f46e7/5.png 340w,\n/static/6a1aa224b56e9cb3e6dcc3c155bc64af/ca1dc/5.png 680w,\n/static/6a1aa224b56e9cb3e6dcc3c155bc64af/9e029/5.png 982w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<p>요상한 이름을 가진 두 개의 컨테이너가 자동으로 실행된 것을 확인할 수 있다. <code class=\"language-text\">mysql:latest</code>는 MySQL 컨테이너인 것을 알겠는데 <code class=\"language-text\">testcontainers/ryuk</code>은 무엇일까?</p>\n<p><code class=\"language-text\">ryuk</code>의 주요 역할은 테스트가 완료된 후에 사용된 모든 리소스를 자동으로 정리한다. <code class=\"language-text\">ryuk</code>는 <code class=\"language-text\">testcontainers</code>가 시작될 때 함께 실행되며(예시에서는 테스트가 수행될\n때), <code class=\"language-text\">testcontainers</code>와 함께 생성된 모든 것들을 관리한다. 테스트 종료되면, <code class=\"language-text\">ryuk</code>는 해당 정보를 바탕으로 생성된 모든 리소스를 안전하게 정리하고 삭제한다.</p>\n<p>테스트가 완료된 후 도커 데스크탑을 확인해보면 깔끔하게 정리된 것을 확인할 수 있을 것이다. 물론 테스트도 성공한다!</p>\n<p><span class='gatsby-resp-image-wrapper' style='position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 680px; margin-bottom: 16px;'>\n      <a class='gatsby-resp-image-link' href='/static/baf1b7c22a85953221a3927c8b28d927/be4ab/6.png' style='display: block' target='_blank' rel='noopener'>\n    <span class='gatsby-resp-image-background-image' style=\"padding-bottom: 18.23529411764706%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAnklEQVR42o2Nyw6CMBRE+yGCUih9U6BVSMS4Ye3G//+WsZekrlmcTKaZnste+xfr+4Pw2OHmDX6MGKcEP0ywLkDbAcr4U9CWpeWJMC+wQ4QLCSZL4n2FsQGdUGi4QNtJiF6jlyanyV0dXeROmwJtGVlJYn3IEg/nR0jlDglRhPSBJJTlQCf0f0fvvO3BbBYUSFyuXaobqrpBfeVHnuUH/Ap1qn/Zg34AAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <img class='gatsby-resp-image-image' alt='6' title='' src='/static/baf1b7c22a85953221a3927c8b28d927/ca1dc/6.png' srcset='/static/baf1b7c22a85953221a3927c8b28d927/e7570/6.png 170w,\n/static/baf1b7c22a85953221a3927c8b28d927/f46e7/6.png 340w,\n/static/baf1b7c22a85953221a3927c8b28d927/ca1dc/6.png 680w,\n/static/baf1b7c22a85953221a3927c8b28d927/02d09/6.png 1020w,\n/static/baf1b7c22a85953221a3927c8b28d927/9d567/6.png 1360w,\n/static/baf1b7c22a85953221a3927c8b28d927/be4ab/6.png 2149w' sizes='(max-width: 680px) 100vw, 680px' style='width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;' loading='lazy' decoding='async'>\n  </a>\n    </span></p>\n<h2>마무리</h2>\n<p>지금까지 <code class=\"language-text\">testcontainers</code>를 활용하여 통합 테스트 환경을 구축하는 방법에 대해 알아보았다. 해당 기술을 활용하면 실제 운영 중인 데이터베이스에 접근하지 않고도, 업데이트가 원할하게 되지 않는 임베디드\n데이터베이스를 활용하기 않고도 운영 환경과 동일하게 세팅하여 멱등성을 지키며 원할하게 테스트를 진행할 수 있다. 데이터베이스 뿐만 아니라 실제 연동하고 있는 웹 서버, 카프카 등에 대한 테스트도 도커 컨테이너를\n활용하여 별다른 서버 세팅 없이 편리하게 진행할 수 있다.</p>\n<p>다만 도커 컨테이너를 활용할 수 없거나 도커 레지스트리에 접근이 제한되는 환경인 경우 이미지를 원할하게 사용하지 못할 수 있다. 결국 사용하고자 하는 이미지가 접근 가능한 형태로 제공 되어야 한다는\n것이다. 결국 <code class=\"language-text\">testcontainers</code>는 도커라는 의존성을 활용한 테스트임을 인지하여야 한다.</p>\n<h2>References.</h2>\n<ul>\n<li><a href=\"https://ko.wikipedia.org/wiki/%EB%A9%B1%EB%93%B1%EB%B2%95%EC%B9%99\">멱등법칙</a></li>\n<li><a href=\"https://spring.io/blog/2023/06/23/improved-testcontainers-support-in-spring-boot-3-1\">improved-testcontainers-support-in-spring-boot-3-1</a></li>\n</ul>","frontmatter":{"title":"testcontainers","date":"March 18, 2024","update":"March 18, 2024","tags":["통합 테스트","testcontainers"],"series":null},"fields":{"slug":"/testcontainers/","readingTime":{"minutes":13.805}}},"seriesList":{"edges":[{"node":{"id":"984809e6-d465-5dfd-9c59-579d12581fac","fields":{"slug":"/immutable-object/"},"frontmatter":{"title":"불변 객체"}}},{"node":{"id":"fa92531f-b76e-587c-a42b-14dedd6e2cb1","fields":{"slug":"/first-class-collection/"},"frontmatter":{"title":"일급 컬렉션"}}},{"node":{"id":"2dac6856-47a1-5ef0-9c9f-d69d4234afcf","fields":{"slug":"/why-jdbc-template/"},"frontmatter":{"title":"JdbcTemplate는 어디에?"}}},{"node":{"id":"ab71a72e-f8d9-55e6-bdd4-66e8778b0b67","fields":{"slug":"/enum/"},"frontmatter":{"title":"enum"}}},{"node":{"id":"b77737b7-c888-54d0-8901-9921b4bbb703","fields":{"slug":"/spring-jdbc-batch/"},"frontmatter":{"title":"Spring JDBC로 batch 활용하기"}}},{"node":{"id":"59e94329-3d48-53b9-9995-90d61432234d","fields":{"slug":"/local-date-time/"},"frontmatter":{"title":"java에서 날짜, 시간 제대로 사용하기"}}},{"node":{"id":"c8dda97d-41c7-5596-a0c8-703fd69d92e7","fields":{"slug":"/identity-strategy/"},"frontmatter":{"title":"IDENTITY 전략는 추가 조회를 하지 않을 수 있다."}}},{"node":{"id":"c50af7e8-5953-5168-b4af-1d186a4254a7","fields":{"slug":"/separated-interface/"},"frontmatter":{"title":"외부와 의존성 분리하기"}}},{"node":{"id":"ba9d009e-d6e8-574f-9f7b-89819e3e57ca","fields":{"slug":"/properties-to-object/"},"frontmatter":{"title":"properties 객체로 다루기"}}},{"node":{"id":"7b780208-a850-5305-a51c-f0937cbdaf93","fields":{"slug":"/google-refresh-token/"},"frontmatter":{"title":"Google은 Refresh Token을 쉽게 내주지 않는다."}}},{"node":{"id":"b886feb1-ab24-59f0-8972-2d2b510ea407","fields":{"slug":"/mappedsuperclass-vs-embedded/"},"frontmatter":{"title":"@MappedSuperclass vs @Embedded"}}},{"node":{"id":"58f32f4d-b2d6-54d6-b3dd-cb4cf4da1d70","fields":{"slug":"/basic-tomcat/"},"frontmatter":{"title":"Tomcat"}}},{"node":{"id":"d26e840e-0646-5dd9-a2d5-5670ddc81ede","fields":{"slug":"/jdbc/"},"frontmatter":{"title":"JDBC"}}},{"node":{"id":"e0a32367-096e-595a-9580-0d3d2fc6e9aa","fields":{"slug":"/template-callback/"},"frontmatter":{"title":"jdbcTemplate을 만들며 마주한 Template Callback 패턴"}}},{"node":{"id":"fa938264-2615-556e-bcfa-d749c30aa8fe","fields":{"slug":"/covering-index/"},"frontmatter":{"title":"커버링 인덱스"}}},{"node":{"id":"cf3a2936-1b1f-5d11-832e-dbb9f8051755","fields":{"slug":"/osiv/"},"frontmatter":{"title":"OSIV와 사용하며 직면한 문제"}}},{"node":{"id":"53859931-2807-5303-a90d-33df33a856de","fields":{"slug":"/save-persist-merge/"},"frontmatter":{"title":"SimpleJpaRepository의 save()는 어떻게 새로운 엔티티를 판단할까?"}}},{"node":{"id":"09a96ca9-bb95-55ab-83cf-d9d053b2ad70","fields":{"slug":"/optimistic-locking/"},"frontmatter":{"title":"낙관적 락과 동시성 테스트"}}},{"node":{"id":"647737e4-08ec-5813-a092-c27ef1da4292","fields":{"slug":"/java-string/"},"frontmatter":{"title":"문자열 생성 방식 비교하기"}}},{"node":{"id":"696ee6ba-c2ea-5e8b-a25f-aaa4eccfa5e9","fields":{"slug":"/2022-retrospect/"},"frontmatter":{"title":"조금 늦은 2022년 회고"}}},{"node":{"id":"5a61e41a-16ff-5669-bf0e-028ea40e0af3","fields":{"slug":"/jpa-auditing/"},"frontmatter":{"title":"Spring Data JPA Auditing"}}},{"node":{"id":"b3a293eb-b729-53e0-ac2b-5f1ec784c320","fields":{"slug":"/testcontainers/"},"frontmatter":{"title":"testcontainers"}}}]},"previous":{"fields":{"slug":"/jpa-auditing/"},"frontmatter":{"title":"Spring Data JPA Auditing"}},"next":null},"pageContext":{"id":"b3a293eb-b729-53e0-ac2b-5f1ec784c320","series":null,"previousPostId":"5a61e41a-16ff-5669-bf0e-028ea40e0af3","nextPostId":null}},"staticQueryHashes":[],"slicesMap":{}}