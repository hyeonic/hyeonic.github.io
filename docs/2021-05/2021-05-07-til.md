## 2021.05.07 querydsl, 테스트 코드

## querydsl

Jpa의 복잡한 쿼리와 동적 쿼리 생성에 대한 궁금증으로 인하여 강의를 구매하였다. skhuedin에서 이제 다양한 정렬 조건을 이곳에 적용할 예정이기 때문에 빠르게 강의를 들었다. 들으면 들을 수록 querydsl의 편리하고 직관적인 코드들이 너무 매력적으로 다가왔다. 또한 JPQL을 다시 한번 복습하는 계기가 되었다. 이제 반절 정도 습득하였고 주말 기간 동안 나머지 부분 까지 듣고 다음 주 부터 바로 적용에 들어가야 겠다. 특히 admin page에 다양한 쿼리들이 들어갈 것 같은데 이것을 querydsl로 처리할 생각을 하니 재밌게 작업을 이어갈 수 있을 것 같다.

## 테스트 코드

skhuedin의 테스트 코드가 지속적으로 깨지는 일이 발생하였다. 원인으로는 data.sql로 인하여 데이터가 최초에 초기화 되는데 이부분에서 다양하게 연결된 연관관계가 각 테스트마다 실행되는 afterEach에서 deleteAll되는 것을 막았다. 임시로 해결한 방법으로는 test 디렉토리 밑에 truncate.sql을 두어 모든 sql의 테이블을 깔끔히 비워내는 작업을 진행하였다. 테스트 코드는 작성하면 할수록 어려운 것 같다. 나중에는 간단한 게시판이라도 tdd를 제대로 활용하여 개발을 진행해 보고 싶다!

## 내일 할일
 - 알고리즘 공부하기