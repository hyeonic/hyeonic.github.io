---
title: Topological Sort
tags: ['위상 정렬', 'Topological Sort']
---

# Topological Sort

위상 정렬이란 여러가지 일들에 순서가 정해져 있을 때 순서에 맞게 나열하는 것이다. 예를들면 옷을 입기 위한 순서, 수강 신청을 위한 커리큘럼 등이 있다.

위상 정렬은 기본적으로 `DAG(Directed Acyclic Graph)`으로 `방향성이 있으며 사이클이 없는 그래프`여야 한다. 

## 진행 순서

위상 정렬 수행을 위해서는 큐 혹은 재귀 함수를 사용한다. 아래는 큐를 사용한 순서를 나열한 것이다.

1. 그래프의 각 노드들의 진입 차수 테이블을 생성하고 계산한다.
2. 진입 차수가 0인 노드를 큐에 넣는다.
3. 큐에서 노드를 하나 꺼낸 후 꺼낸 노드와 간선으로 연결된 노드들의 진입 차수를 감소 시킨다.
4. 진입 차수 테이블을 갱신한 후 진입 차수의 값이 0인 노드가 있다면 큐에 넣는다. 없다면 무시하고 진행한다.
5. 3 ~ 4 과정을 큐가 빌 때 까지 반복한다.

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013410-1c85c216-0bc7-48ed-ba8f-80a9353e7dca.png>
</p>

진입 차수는 자신을 가리키는 노드의 개수가 된다. 진입 차수가 0인 노드를 큐에 넣는다.

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013437-9a8ae20c-2047-4098-86b8-1201a3c1b951.png>
</p>

큐에 있는 1번 노드를 꺼내고 인접한 노드를 찾아 진입 차수를 감소 시킨다. 갱신이 완료되면 진입 차수가 0인 노드를 큐에 넣어준다.

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013488-9e3740c0-1558-445c-8ed7-ff1ca50c51d2.png>
</p>

위의 순서를 반복한다.

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013548-c9622d13-2379-4eff-bd08-25453537d77c.png>
</p>

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013578-98dcb6c1-8149-4553-a6c7-9a07782dd748.png>
</p>

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013628-2965ade5-6e4e-4e19-ad28-2a3f6129dd16.png>
</p>

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013677-1e57ca93-61a5-487f-bcc0-ba1db7a25ef1.png>
</p>

마지막 7번 노드의 경우 인접한 노드가 존재하지 않기 때문에 테이블 갱신은 무시된다. 

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013705-335f53af-af0a-4630-b685-41839af14913.png>
</p>

모든 과정이 완료되고 큐가 비었다. 또한 진입 차수가 모두 0이어야 한다. 아닌 노드가 존재한다면 그래프에 순환구조가 생성되어 위상 정렬을 사용할 수 없다. 

<p align=center>
    <img src=https://user-images.githubusercontent.com/59357153/140013737-e54e5945-e1b5-4fce-8512-687d56bec714.png>
</p>

위는 위상 정렬의 순서이다. 위상 정렬의 결과는 여러 가지가 될 수 있다. 

<TagLinks />